(this.webpackJsonpstakez=this.webpackJsonpstakez||[]).push([[0],{1:function(e,a,t){"use strict";let n,l,r,s,c,o,i,d,m,u,E,p,h,b,g;t.d(a,"a",(function(){return n})),t.d(a,"c",(function(){return l})),t.d(a,"e",(function(){return r})),t.d(a,"f",(function(){return s})),t.d(a,"g",(function(){return c})),t.d(a,"h",(function(){return o})),t.d(a,"i",(function(){return i})),t.d(a,"j",(function(){return d})),t.d(a,"k",(function(){return m})),t.d(a,"m",(function(){return u})),t.d(a,"n",(function(){return E})),t.d(a,"l",(function(){return p})),t.d(a,"o",(function(){return h})),t.d(a,"b",(function(){return b})),t.d(a,"d",(function(){return g})),function(e){e.PRIVATEKEY="PRIVATEKEY",e.KEYSTORE="KEYSTORE",e.MNEMONIC="MNEMONIC",e.ZILPAY="ZILPAY",e.MOONLET="MOONLET",e.LEDGER="LEDGER",e.NONE=""}(n||(n={})),function(e){e[e.MANUAL_REFRESH_DELAY=5e3]="MANUAL_REFRESH_DELAY",e[e.REFRESH_RATE=3e4]="REFRESH_RATE",e[e.DEFAULT_GAS_PRICE=2e9]="DEFAULT_GAS_PRICE",e[e.DEFAULT_GAS_LIMIT=3e4]="DEFAULT_GAS_LIMIT",e[e.MAX_GZIL_SUPPLY=722700]="MAX_GZIL_SUPPLY",e[e.REWARD_BLOCK_COUNT_MAINNET=2200]="REWARD_BLOCK_COUNT_MAINNET",e[e.REWARD_DS_BLOCK_COUNT_MAINNET=22]="REWARD_DS_BLOCK_COUNT_MAINNET",e[e.REWARD_BLOCK_COUNT_TESTNET=200]="REWARD_BLOCK_COUNT_TESTNET",e[e.REWARD_DS_BLOCK_COUNT_TESTNET=2]="REWARD_DS_BLOCK_COUNT_TESTNET",e[e.REWARD_ZIL_PER_DAY=2071384]="REWARD_ZIL_PER_DAY",e[e.SAMPLE_REWARD_BLOCK_MAINNET=1166800]="SAMPLE_REWARD_BLOCK_MAINNET",e[e.SAMPLE_REWARD_BLOCK_TESTNET=2041e3]="SAMPLE_REWARD_BLOCK_TESTNET",e[e.FINAL_GZIL_REWARD_BLOCK_MAINNET=1483713]="FINAL_GZIL_REWARD_BLOCK_MAINNET",e[e.LEDGER_VENDOR_ID=11415]="LEDGER_VENDOR_ID"}(l||(l={})),function(e){e.DEV="dev",e.PROD="prod",e.STAGE="stage"}(r||(r={})),function(e){e.DEVEX="devex",e.VIEWBLOCK="viewblock"}(s||(s={})),function(e){e[e.DEFAULT=-1]="DEFAULT"}(c||(c={})),function(e){e.TESTNET="testnet",e.MAINNET="mainnet",e.ISOLATED_SERVER="isolated_server",e.PRIVATE="private"}(o||(o={})),function(e){e.TESTNET="https://dev-api.zilliqa.com",e.MAINNET="https://api.zilliqa.com",e.ISOLATED_SERVER="https://zilliqa-isolated-server.zilliqa.com"}(i||(i={})),function(e){e.ERROR="ERROR",e.COMPLETE="COMPLETE",e.PENDING="PENDING",e.IDLE="IDLE"}(d||(d={})),function(e){e.PROMISE_GET_BALANCE="PROMISE_GET_BALANCE",e.PROMISE_GET_CONTRACT="PROMISE_GET_CONTRACT",e.PROMISE_GET_DELEG_STATS="PROMISE_GET_DELEG_STATS",e.PROMISE_GET_DELEG_SWAP_REQUESTS="PROMISE_GET_DELEG_SWAP_REQUESTS",e.PROMISE_GET_EXPLORER_STATS="PROMISE_GET_EXPLORER_STATS",e.PROMISE_GET_EXPLORER_PENDING_WITHDRAWAL="PROMISE_GET_EXPLORER_PENDING_WITHDRAWAL",e.PROMISE_GET_OPERATOR_STATS="PROMISE_GET_OPERATOR_STATS",e.PROMISE_GET_PENDING_WITHDRAWAL="PROMISE_GET_PENDING_WITHDRAWAL",e.PROMISE_GET_STAKE_PORTFOLIO="PROMISE_GET_STAKE_PORTFOLIO",e.PROMISE_GET_SSN_STATS="PROMISE_GET_SSN_STATS",e.PROMISE_WITHDRAW_COMM="PROMISE_WITHDRAW_COMM",e.PROMISE_LANDING_STATS="PROMISE_LANDING_STATS"}(m||(m={})),function(e){e.DELEGATOR="DELEGATOR",e.OPERATOR="OPERATOR",e.NONE=""}(u||(u={})),function(e){e.ACTIVE="Active",e.INACTIVE="Below Min. Stake"}(E||(E={})),function(e){e.COMPLETE_WITHDRAWAL="CompleteWithdrawal",e.DELEGATE_STAKE="DelegateStake",e.REDELEGATE_STAKE="ReDelegateStake",e.CONFIRM_DELEG_SWAP="ConfirmDelegatorSwap",e.REJECT_DELEG_SWAP="RejectDelegatorSwap",e.REQUEST_DELEG_SWAP="RequestDelegatorSwap",e.REVOKE_DELEG_SWAP="RevokeDelegatorSwap",e.UPDATE_COMM="UpdateComm",e.UPDATE_RECV_ADDR="UpdateReceivingAddr",e.WITHDRAW_COMM="WithdrawComm",e.WITHDRAW_STAKE_AMT="WithdrawStakeAmt",e.WITHDRAW_STAKE_REWARDS="WithdrawStakeRewards"}(p||(p={})),function(e){e[e.CLAIM_REWARDS=1]="CLAIM_REWARDS",e[e.COMPLETE_STAKE_WITHDRAW=2]="COMPLETE_STAKE_WITHDRAW",e[e.DELEGATE_STAKE=3]="DELEGATE_STAKE",e[e.INITIATE_STAKE_WITHDRAW=4]="INITIATE_STAKE_WITHDRAW",e[e.TRANSFER_STAKE=5]="TRANSFER_STAKE",e[e.UPDATE_COMM_RATE=6]="UPDATE_COMM_RATE",e[e.UPDATE_RECV_ADDR=7]="UPDATE_RECV_ADDR",e[e.WITHDRAW_COMM=8]="WITHDRAW_COMM",e[e.REQUEST_DELEG_SWAP=9]="REQUEST_DELEG_SWAP",e[e.REVOKE_DELEG_SWAP=10]="REVOKE_DELEG_SWAP",e[e.CONFIRM_DELEG_SWAP=11]="CONFIRM_DELEG_SWAP",e[e.REJECT_DELEG_SWAP=12]="REJECT_DELEG_SWAP"}(h||(h={})),function(e){e.NOT_AVAILABLE="Not Available"}(b||(b={})),function(e){e.IS_PAUSED="false"}(g||(g={}))},183:function(e,a,t){e.exports=t.p+"static/media/swap_img0.4ae3ba02.png"},184:function(e,a,t){e.exports=t.p+"static/media/swap_img1.61ffbf7a.png"},185:function(e,a,t){e.exports=t.p+"static/media/swap_img2.67cf2790.png"},186:function(e,a,t){e.exports=t.p+"static/media/swap_img3.40c58efc.png"},187:function(e,a,t){e.exports=t.p+"static/media/swap_img4.a17cd78f.png"},188:function(e,a,t){e.exports=t.p+"static/media/swap_img5.44035661.png"},189:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA3EAYAAAAu7tRgAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAo7SURBVHic1Zt9bFPVG8ef57ZrZcwhMGC9rSxbbzvZjC+B+BL8ZwkGA2s3IOJbnEEFIiooICgQeYnCiApMoxlbDIFEYhBwXbcFkykmBo3GLaAusPVuvK23gIrgZLBu9zy/Pw73V9Ztrl3vbefnn9ucc895nn577rnPOecpwgjJzg4EamoKCgQBURCWLgUAQHz8cQAAoi++SEsLh3t7y8vPni0oWLAgFBqpndEODneDJAUCDQ1W6/XrAL29Xi8RoiAsWQJARDRr1r+37ulBJALYu5dIEBh75x1FkaTS0vPn9foCqWaAgHZ7e3t9vdtNxJiqPv88L33xRX6dODEhY9jbiwhA9PnnRIwhbt2qKPn5Hs+pU4n0m0puEfDo0aNHzWa73eH455/ly4kAiFat4nWiaIx5VeXXgwcRiUym8vJg0O2eO/f4cWPs6c+Qj3BhYUvLgQMWy5UrVuuYMU8+yQVdtw6ACCA/31i3jh1DFATEjRuDQafT4/n6a2PtjZxh58AIRJs2CYIoyvL06XPn8pKNG3nd9OlGOBfh2DEAAMTt2xVFkoqL6+oAEPn8mlrQZgsE/P5nnhHFq1cV5cCBpqYZM5Yu7e2NtQNRbGurqZk1CwBRELZs4aUPP2yUw/wJ+OUXPkI/+CAYdDqvX//sMwDEhQu1KSF5oCgGAn5/OMxdUxQiIqKdOxEzMgShulpRRNHj6e6OtUNRbG/3+x95BIAxorVreSkfsQAYx4iP8QsgAEBHB2NERB9+OHYsYlpaZaUsu1xz5vT06G1vgP3+Aqal9a/+/Xde/sknFovZzNiuXWfO5ObOm3flSqwG7Pa2tvr6++4DQFTVlSv5Q/f007zWZNLna0Rz7hwfCDt2jHQgxMowAkbT1cV/8z17RhooOxyy7PNJEg9j3niDCBFx0aLY7I+UyEAwmy0Wk6mi4ty5nJzi4r/+SrTnOAWM5to1LuinnwIAMPb++/EGyjZbR0d9fU4OImOqunIln+MWL+a1Y8bE50+sJD4QNBIUMKozHQLlKVNk+fDhyZNNJiKTadky3u+KFbz2jjsS8W9obl0xmUyI776rKE6nx3Pu3HAtdRVwIIzxa0MDkSAQbd4cCjmdJSU//xxrDxMmBAINDZmZVitRb++iRYiIiG++yWuzs/X1l3PrQGCMSBC2bQuF3O7i4pMnB9xrrIBDMfJAecqUEye++mrsWLM5Pb2nZ8kS/lLSVkx2uzH+agPh4EEik8lkWrMmFMrLmzv37FmBCJExrxcAkei774xxIJqZM4kYI2pstNsDgdrab7+12QKBurrZs4drefHivffOnn3tWjDocnm9O3eOHx8O37iRl8dH5nPP8bmttVUfP/nAQjx0CICIserqUCg3d86cyKM9IC4TRVn2+WbOBCCKPCrGxXGDc+IEF2THjvgD5cFWTG+/zetmzPi3lojt7fz+6mpVRezr27Pn4kVJmj//0qUh2wznjsPR0eHz3XMPkaoirl6dnDiuP4jt7UREjH30UfyBMhERoijKcl1dcTEvWbuWl1+6xFdQlZWKIklNTY2NAIibNmmP7NCIYiDg891/f9wjasqUtra6urw8k0kQGFuxgocdS5bw2ttui7e/kZG8QHm4/dCEH8lJk06frq/Pzk5L6+tT1dde46Wvvsqv6emJ9h8bia+YNByO9na/3+VijDGiF17gpdo1Kyv6ft3nNFFsbfX7s7IABIGxV14BAEBcvpzXjh+vt73BiT1QFsW2Np/v0Uf57o425xcV8evwc77hL4W8vPb2AwfGjbt+nTGrddkyRABEbaROnmy0fU53dzisqkTZ2X/8cdddJSVdXVqN3S7LtbWHDhERAcyfH2/Pgr6ODqSjw+lcuPDq1VDI5Sop2bYtPR3AbJ46NRJ2AADIsrFepKdnZFitjOn/0jNcwGi0t2cwKEkez759NtvVq6FQQUF/QQdG/KOVpAsYjbaBqwmqKJLU3Hz33QAA2iSOGPsGb7Ixp9oBjaysU6d8vttvt1hkGZFvIgCsWQOQzCVmrHR1ESEC7N+fMgEjgplMEcG0Hexkva1jRZtS9u41my0WQaiq0vYTkyag3X7y5OHDEycSmc0mE48Tjd+mihe+skGsrQUgUtWqKkVxu0tLGxuHamGYgNHxIBGAIPDwhWjcOKPsjoyPPxaEcNhiWby4s7Ow8LHHLl+OtaVuceDgAfTrr/PazEy97MQD0fHjPBTeujUYlCSv9+BBvY5DtQB8xAJmZwcCDQ2TJgkCQF+fth+X7CVcfxC//55/Ki9XFJfL4/H7E++1/+4OTzDYsIH/MA88ELOAt261m80rV/LS1ArW/8BdH8EimweIqvrEE3wXaP16bsftjr5/SAFFUZZrau68EwBAEFavTs5hz3DoL9itUw+POxH5y42IyGYbrv3/XyL8QHzqVN5w1arUbFNFY3yODKLJRLR7d2QtzD/FilkUA4Ha2upqnklQVsaLLRa9HY2NI0f4ZsOWLcGgy+Xx/PBDavyInZsjUMv/SyaIiI2NgsCYqm7Y0NnpdpeW/vhj8v1IjCSuRDTBVBVg/frOzvx8j+enn5Jn3xhuCqg99XodGmn91dffeh7s9cZ+Hvxf4aaA2iFKovtldXWCIAiMrVvX2el0lpb++mti/Y1+bm5n6TXyHnqIMcYQFyxwOFpajhyZMEGffkcvNwXUK9OTH7ogbtzImMUSDp89K4qyXFtbUeFwtLb6/UZlDqQOnQWMJiOD9718OWOCQNTRwTMR9u3TTr+MsZs8BL4x+PLLWqanseYsFv5TPfssY4wBtLTYbIGAz7d3r83W1lZXN22asfb1RwiFJMnrraoKBiWpuZmPCESvl1c3NRlpnCgtjQfOZWWIiIy1tPDA3u93ONraamoefNBI+3rwLy+PwVIi3nqL1xmZRD4Y+q+BNRI91oz77Tt4EjkXOHk0N/P8vfLyRPf5ki7gQAdSkUQegc/dv/3GBXzvvWDw/PmMjP37AYqKior6+oZrn3IBo8nODgRqawsLuXRr13JBn3qK15qTtHQ8fZonH1VUWK1paZmZu3efOZObW1R040b0naMuM+HCBZfL621p4QmQZWWqSiQI+flEiESVlfwuo/+/kZvLD+p37QqH+/q6umRZy2zV25LhB+sXL7rdxcUdHaGQJJWUvPQST1ycOhUAgGjzZn5X/FlU8WG3jxmTmdndrf/5ctIzE7SMT0VxuUpKNm26cQPAbM7J4bVadtSffybbr5GS8tSOy5ddrjlz/v5bUVwur3f7dlXt7rZac3L4HKYdg3Z2ptrPoUi5gNFoSeShkNtdUlJRMX58ONzT43Qak0SeGIi9vaNOwGhaWgoLFy4MhyPJR05nc3NBAUDyVkwRFIVft28HEAQASRo1yUWxw5PA+VfRViR+v75/u2WMx5XffINIxFhVVTDY2ZmZ+eWX0fHlf1DAwemfw9LYaLfLss9XVMRTStatG6odj/8uXNAyGFS1r09Vq6svXJg2bd68M2eGs/s/wZ+gCGJeh7oAAAAASUVORK5CYII="},194:function(e,a,t){e.exports=t(347)},199:function(e,a,t){},240:function(e,a){},242:function(e,a){},252:function(e,a){},254:function(e,a){},279:function(e,a){},281:function(e,a){},282:function(e,a){},287:function(e,a){},289:function(e,a){},295:function(e,a){},297:function(e,a){},316:function(e,a){},328:function(e,a){},331:function(e,a){},334:function(e,a,t){"use strict";t.r(a),t.d(a,"RewardCalculator",(function(){return s}));var n=t(28),l=t.n(n);const{Zilliqa:r}=t(9);class s{constructor(e,a){this.zilliqa=void 0,this.contract=void 0,this.last_reward_cycle_json=void 0,this.zilliqa=new r(e),this.contract=this.zilliqa.contracts.at(a)}async compute_maps(){this.last_reward_cycle_json=await this.contract.getSubState("lastrewardcycle")}async get_rewards(e,a){const t=await this.contract.getSubState("last_withdraw_cycle_deleg",[a.toLowerCase()]),n=await this.get_reward_cycle_list(t,this.last_reward_cycle_json,e,a),l=await this.combine_buff_direct(e,a,n),r=await this.get_reward_need_cycle_list(t,this.last_reward_cycle_json,e,a);return await this.calculate_rewards(e,l,r)}async get_reward_cycle_list(e,a,t,n){if(null!==e&&void 0!==e.last_withdraw_cycle_deleg[n][t]){const e=Number.parseInt(a.lastrewardcycle);let t=[],n=1;for(;n<=e;n++)t.push(n);return t}return[]}async get_reward_need_cycle_list(e,a,t,n){const l=a.lastrewardcycle;if(null===e)return[];const r=e.last_withdraw_cycle_deleg[n][t];return(await this.get_reward_cycle_list(e,a,t,n)).filter(e=>e>Number.parseInt(r)&&e<=Number.parseInt(l))}async combine_buff_direct(e,a,t){const n=new Map,r=await this.contract.getSubState("direct_deposit_deleg",[a.toLowerCase(),e]),s=await this.contract.getSubState("buff_deposit_deleg",[a.toLowerCase(),e]),c=await this.contract.getSubState("deleg_stake_per_cycle",[a.toLowerCase(),e]);let o=null,i=null,d=null;return null!==r&&(o=r.direct_deposit_deleg[a.toLowerCase()][e]),null!==s&&(i=s.buff_deposit_deleg[a.toLowerCase()][e]),null!==c&&(d=c.deleg_stake_per_cycle[a.toLowerCase()][e]),t.forEach(e=>{const a=e-1,t=e-2;let r=new l.a(0);null!==d&&void 0!==d[a.toString()]&&(r=new l.a(d[a.toString()]));let s=new l.a(0);null!==o&&void 0!==o[a.toString()]&&(s=new l.a(o[a.toString()]));let c=new l.a(0);null!==i&&void 0!==i[t.toString()]&&(c=new l.a(i[t.toString()]));let m=s.add(c);m=m.add(r);const u=n.get(a);if(void 0!==u){const a=m.add(u);n.set(e,a)}else n.set(e,m)}),n}async calculate_rewards(e,a,t){var n=new l.a(0);const r=await this.contract.getSubState("stake_ssn_per_cycle",[e]);return null===r||t.forEach(t=>{const s=r.stake_ssn_per_cycle[e][t];if(void 0===s);else{const e=new l.a(s.arguments[1]),r=new l.a(s.arguments[0]);let c=a.get(t);if(void 0!==c){const a=c.mul(e).div(r);n=n.add(a)}}}),n}}},340:function(e,a,t){},345:function(e,a,t){},346:function(e,a,t){},347:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(27),s=t.n(r),c=(t(199),t(20)),o=t(16),i=t(1);var d=function(e){return l.a.createElement("div",{id:"disclaimer-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"disclaimerModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"disclaimerModalLabel"},"Disclaimer"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",null,'By participating in the staking of ZILs (\u201cStaking Program\u201d), each participating individual and organization ("Participant") accepts and agrees that, to the extent permitted by law, [Zilliqa] disclaims all liability, damages, cost, loss or expense (including, without limitation, legal fees, costs and expenses) to it in respect of its involvement in the Staking Program. Each Participant should carefully consider all factors involved in participating in the Staking Program, including, but not limited to, those listed below and, to the extent necessary, consult an appropriate professional or other expert (including an expert in cryptographic tokens or blockchain-based software systems). If any of the following considerations are unacceptable to a Participant, that Participant should not be involved in the Staking Program. These considerations are not intended to be exhaustive and should be used as guidance only.'),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",null,"The Staking Program is an open source protocol made available to the public, and Zilliqa expressly disclaims any liability in respect of any actions, programs, applications, developments, and operations of the Staking Program.")),l.a.createElement("li",null,l.a.createElement("p",null,"Hackers, individuals, other malicious groups or organisations may attempt to interfere with the Zilliqa Blockchain System, the ZILs and the Staking Program in a variety of ways such as cryptographic attacks, malware attacks, denial of service attacks, consensus-based attacks, Sybil attacks, smurfing and spoofing.")),l.a.createElement("li",null,l.a.createElement("p",null,"The regulatory status of cryptographic tokens, blockchain and distributed ledger technology as well as its applications are unclear or unsettled in many jurisdictions and it is difficult to predict how or whether governments or regulatory agencies may implement changes to law or apply existing regulation with respect to such technology and its applications, including the Zilliqa Blockchain System, the ZILs and the Staking Program.")),l.a.createElement("li",null,l.a.createElement("p",null,"The ZILs are not intended to represent any formal or legally binding investment. Cryptographic tokens that possess value in public markets, such as Ether and Bitcoin, have demonstrated extreme fluctuations in price over short periods of time on a regular basis. Participants should be prepared to expect similar fluctuations in the price of the ZILs and Participants may experience a complete and permanent loss of their initial purchase."))),l.a.createElement("p",null,"The ZILs are not intended to be securities (or any other regulated instrument) under the laws of any jurisdiction where they are intended to be, or will be, purchased or sold and no action has been or will be taken in any jurisdiction by Zilliqa Research or any of its affiliates that would permit a public offering, or any other offering under circumstances not permitted by applicable law of the ZILs, in any country or jurisdiction where action for that purpose is required. Accordingly, the ZILs may not be offered or sold, directly or indirectly, by any holder, in or from any country or jurisdiction, except in circumstances which will result in compliance with all applicable rules and regulations of any such country or jurisdiction.")),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto d-block shadow-none","data-dismiss":"modal"},"Okay")))))},m=t(22),u=t(21),E=t(11);t(208);function p({header:e,advice:a}){return l.a.createElement("div",{id:"toast-msg-container"},l.a.createElement("span",{className:"toast-msg-header"},l.a.createElement("strong",null,e)),l.a.createElement("br",null),l.a.createElement("span",{className:"toast-msg-advice"},a))}var h=function(e,a,t){switch(e){case"info":return E.b.info(l.a.createElement(p,{header:a,advice:t}));case"error":return E.b.error(l.a.createElement(p,{header:a,advice:t}));case"success":return E.b.success(l.a.createElement(p,{header:a,advice:t}));case"warn":return E.b.warn(l.a.createElement(p,{header:a,advice:t}));default:return Object(E.b)(l.a.createElement(p,{header:a,advice:t}))}},b=t(9),g=t(17),w=t(181),_=t(57);const f=function(...e){0},{bytes:N}=t(17);let y=new b.Zilliqa("https://dev-api.zilliqa.com"),A=333,v=""+i.c.DEFAULT_GAS_PRICE||"2000000000",S=""+i.c.DEFAULT_GAS_LIMIT||"30000";class T{}T.changeNetwork=async e=>{switch(y=new b.Zilliqa(e),e){case i.i.MAINNET:A=1;break;case i.i.TESTNET:default:A=333}await T.fetchGasPrice()},T.addWalletByKeystore=async(e,a)=>{try{return await y.wallet.addByKeystore(e,a)}catch(t){return console.error("error: add wallet by keystore - ",t),i.j.ERROR}},T.sign=async(e,a,t)=>{let n="";switch(e){case i.a.LEDGER:n=await T.ledgerSign(a,t);break;case i.a.ZILPAY:n=await T.zilPaySign(a);break;case i.a.KEYSTORE:case i.a.PRIVATEKEY:case i.a.MNEMONIC:n=await T.sdkSign(a);break;default:console.error("error: no such account type - ",e),n=i.j.ERROR}return n},T.adjustGas=(e,a)=>{v=e,S=a},T.getGasFees=()=>new g.BN(S.toString()).mul(new g.BN(v.toString())),T.getDefaultGasPrice=()=>v,T.getDefaultGasLimit=()=>S,T.ledgerSign=async(e,a)=>{if(f(),null===a||a===i.g.DEFAULT)throw new Error("no ledger index found");const t=await _.a.getTransport(),n=new _.a(t),l=await n.getPublicAddress(a);let r=l.pubKey,s=l.pubAddr;b.validation.isBech32(s)&&(s=Object(b.fromBech32Address)(s)),f();let c=await T.getNonce(s);try{const l={version:N.pack(A,1),toAddr:e.toAddr,amount:""+e.amount,code:e.code,data:e.data,gasPrice:new g.BN(e.gasPrice||v),gasLimit:g.Long.fromNumber(Number(e.gasLimit||S)),nonce:c,pubKey:r,signature:""},s=await n.signTxn(a,l),d={...l,amount:""+e.amount,gasPrice:""+(e.gasPrice||v),gasLimit:""+(e.gasLimit||S),signature:s};console.log("signed tx: ",d);try{const e=await y.provider.send(w.RPCMethod.CreateTransaction,{...d});if(void 0!==e.error)throw new Error(e.error.message);return e.result.TranID}catch(o){return console.error("something is wrong with broadcasting the transaction :%o",JSON.stringify(o)),i.j.ERROR}}catch(o){return console.error("error ledger sign - something is wrong with signing the transaction: %o",JSON.stringify(o)),i.j.ERROR}finally{t.close()}},T.zilPaySign=async e=>{const a=window.zilPay,t=y.transactions.new({toAddr:e.toAddr,amount:e.amount,data:e.data,gasPrice:new g.BN(e.gasPrice||v),gasLimit:g.Long.fromNumber(Number(e.gasLimit||S)),version:N.pack(A,1)},!0);console.log(t);try{return(await a.blockchain.createTransaction(t)).ID}catch(n){return console.error("error zilpay sign - something is wrong with broadcasting the transaction: %o",JSON.stringify(n)),i.j.ERROR}},T.sdkSign=async e=>{const a=y.transactions.new({toAddr:e.toAddr,amount:e.amount,data:e.data,gasPrice:new g.BN(e.gasPrice||v),gasLimit:g.Long.fromNumber(Number(e.gasLimit||S)),version:N.pack(A,1)},!0);console.log(a);try{return(await y.blockchain.createTransaction(a)).id||""}catch(t){return console.error("error sdk sign - something is wrong with broadcasting the transaction: ",JSON.stringify(t)),console.error(t),i.j.ERROR}},T.getNonce=async e=>{try{const a=await y.blockchain.getBalance(e);return a.error&&-5===a.error.code?(console.error("account has no balance"),-1):parseInt(a.result.nonce)+1}catch(a){return console.error("error get nonce from ledger"),console.error(a),-1}},T.fetchGasPrice=async()=>{const e=await y.blockchain.getMinimumGasPrice();return void 0===e.result?v=""+i.c.DEFAULT_GAS_PRICE:(console.log("min gas price from api: ",e.result),v=e.result),v};const{api_max_retry_attempt:O,blockchain_explorer_config:k,environment_config:C,networks_config:R,refresh_rate_config:L}=window.config,P=()=>C,I=()=>k,x=()=>L,D=()=>O||10,j=()=>C===i.e.PROD?R[i.h.MAINNET]:R[i.h.TESTNET];var G=t(40);const M={globalAPY:"0",zilRewards:"0",gzilRewards:"0",gzilBalance:"0",totalDeposits:"0"},B={name:"",stakeAmt:"0",bufferedDeposits:"0",commRate:"0",commReward:"0",delegNum:"0",receiver:"0"},U={swapRecipientAddress:"",requestorList:[]},Z={address_bech32:"",address_base16:"",account_type:i.a.NONE,authenticated:!1,balance:"0",gzil_balance:"0",complete_withdrawal_amt:"0",ledger_index:i.g.DEFAULT,role:i.m.NONE,operator_stats:B,selected_role:i.m.NONE,deleg_stats:M,deleg_staking_portfolio_list:[],pending_withdraw_list:[],stake_modal_data:{ssnName:"",ssnAddress:"",commRate:"0",rewards:"0",delegAmt:"0"},swap_deleg_modal_data:U,is_deleg_stats_loading:i.j.IDLE,is_operator_stats_loading:i.j.IDLE},H=Object(G.b)({name:"user",initialState:Z,reducers:{INIT_USER(e,a){const{address_base16:t,address_bech32:n,account_type:l,authenticated:r,selected_role:s}=a.payload;e.address_base16=t.toLowerCase(),e.address_bech32=n.toLowerCase(),e.account_type=l,e.authenticated=r,e.selected_role=s},UPDATE_ADDRESS(e,a){const{address_base16:t,address_bech32:n}=a.payload;e.address_base16=t.toLowerCase(),e.address_bech32=n.toLowerCase()},UPDATE_BALANCE(e,a){const{balance:t}=a.payload;e.balance=t},UPDATE_COMPLETE_WITHDRAWAL_AMT(e,a){const{complete_withdrawal_amt:t}=a.payload;e.complete_withdrawal_amt=t},UPDATE_DELEG_STATS(e,a){const{deleg_stats:t}=a.payload;e.deleg_stats=t},UPDATE_DELEG_PORTFOLIO(e,a){const{portfolio_list:t}=a.payload;e.deleg_staking_portfolio_list=t},UPDATE_GZIL_BALANCE(e,a){const{gzil_balance:t}=a.payload;e.gzil_balance=t},UPDATE_LEDGER_INDEX(e,a){const{ledger_index:t}=a.payload;e.ledger_index=t},UPDATE_OPERATOR_STATS(e,a){const{operator_stats:t}=a.payload;e.operator_stats=t},UPDATE_PENDING_WITHDRAWAL_LIST(e,a){const{pending_withdraw_list:t}=a.payload;e.pending_withdraw_list=t},UPDATE_ROLE(e,a){const{role:t}=a.payload;e.role=t},UPDATE_STAKE_MODAL_DATA(e,a){const{stake_modal:t}=a.payload;e.stake_modal_data={...t}},UPDATE_SWAP_DELEG_MODAL(e,a){const{swap_deleg_modal:t}=a.payload;e.swap_deleg_modal_data=t},UPDATE_FETCH_DELEG_STATS_STATUS(e,a){e.is_deleg_stats_loading=a.payload},UPDATE_FETCH_OPERATOR_STATS_STATUS(e,a){e.is_operator_stats_loading=a.payload},RESET_USER_STATE(e){e.address_bech32=Z.address_bech32,e.address_base16=Z.address_base16,e.account_type=Z.account_type,e.authenticated=Z.authenticated,e.balance=Z.balance,e.gzil_balance=Z.gzil_balance,e.complete_withdrawal_amt=Z.complete_withdrawal_amt,e.ledger_index=Z.ledger_index,e.role=Z.role,e.deleg_stats=Z.deleg_stats,e.deleg_staking_portfolio_list=Z.deleg_staking_portfolio_list,e.operator_stats=Z.operator_stats,e.pending_withdraw_list=Z.pending_withdraw_list,e.stake_modal_data=Z.stake_modal_data,e.swap_deleg_modal_data=Z.swap_deleg_modal_data,e.is_deleg_stats_loading=Z.is_deleg_stats_loading,e.is_operator_stats_loading=Z.is_operator_stats_loading},QUERY_AND_UPDATE_BALANCE(){},QUERY_AND_UPDATE_GZIL_BALANCE(){},QUERY_AND_UPDATE_ROLE(){},QUERY_AND_UPDATE_DELEGATOR_STATS(){},QUERY_AND_UPDATE_OPERATOR_STATS(){},QUERY_AND_UPDATE_USER_STATS(){},POLL_USER_DATA_START(){},POLL_USER_DATA_STOP(){}}}),{INIT_USER:W,QUERY_AND_UPDATE_BALANCE:V,QUERY_AND_UPDATE_GZIL_BALANCE:q,QUERY_AND_UPDATE_ROLE:F,QUERY_AND_UPDATE_DELEGATOR_STATS:z,QUERY_AND_UPDATE_OPERATOR_STATS:K,QUERY_AND_UPDATE_USER_STATS:Y,POLL_USER_DATA_START:Q,POLL_USER_DATA_STOP:J,UPDATE_ADDRESS:X,UPDATE_BALANCE:$,UPDATE_COMPLETE_WITHDRAWAL_AMT:ee,UPDATE_DELEG_STATS:ae,UPDATE_DELEG_PORTFOLIO:te,UPDATE_GZIL_BALANCE:ne,UPDATE_LEDGER_INDEX:le,UPDATE_OPERATOR_STATS:re,UPDATE_PENDING_WITHDRAWAL_LIST:se,UPDATE_ROLE:ce,UPDATE_STAKE_MODAL_DATA:oe,UPDATE_SWAP_DELEG_MODAL:ie,UPDATE_FETCH_DELEG_STATS_STATUS:de,UPDATE_FETCH_OPERATOR_STATS_STATUS:me,RESET_USER_STATE:ue}=H.actions;var Ee=H.reducer;const pe=Object(G.b)({name:"blockchain",initialState:{proxy:"",impl:"",blockchain:"",staking_viewer:"",api_list:[],blockchain_explorer:"",refresh_rate:3e5,api_max_retry_attempt:10},reducers:{UPDATE_CHAIN_INFO(e,a){const{proxy:t,impl:n,blockchain:l,staking_viewer:r,api_list:s}=a.payload;e.proxy=t,e.impl=n,e.blockchain=l,e.staking_viewer=r,e.api_list=s},UPDATE_BLOCKCHAIN_EXPLORER(e,a){const{blockchain_explorer:t}=a.payload;e.blockchain_explorer=t},UPDATE_REFRESH_RATE(e,a){const{refresh_rate:t}=a.payload;e.refresh_rate=t},UPDATE_API_MAX_ATTEMPT(e,a){const{api_max_attempt:t}=a.payload;e.api_max_retry_attempt=t},RESET_BLOCKCHAIN_STATE(e){const a=j();e.proxy=a.proxy,e.impl=a.impl,e.blockchain=a.blockchain,e.staking_viewer=a.node_status,e.api_list=a.api_list},CONFIG_LOADED(){}}}),{UPDATE_API_MAX_ATTEMPT:he,UPDATE_BLOCKCHAIN_EXPLORER:be,UPDATE_CHAIN_INFO:ge,UPDATE_REFRESH_RATE:we,RESET_BLOCKCHAIN_STATE:_e,CONFIG_LOADED:fe}=pe.actions;var Ne=pe.reducer;const ye={gzil_address:"",gzil_total_supply:"0",landing_stats:{circulatingSupplyStake:"0",nodesNum:"0",delegNum:"0",gzil:"0",remainingGzil:"0",totalDeposits:"0",estRealtimeAPY:"0"},min_bnum_req:"0",min_deleg_stake:"0",reward_blk_countdown:"0",total_stake_amount:"0",ssn_dropdown_list:[],ssn_list:[],is_landing_stats_loading:i.j.IDLE,is_ssn_stats_loading:i.j.IDLE},Ae=Object(G.b)({name:"staking",initialState:ye,reducers:{UPDATE_GZIL_ADDRESS(e,a){const{gzil_address:t}=a.payload;e.gzil_address=t},UPDATE_GZIL_TOTAL_SUPPLY(e,a){const{gzil_total_supply:t}=a.payload;e.gzil_total_supply=t},UPDATE_LANDING_STATS(e,a){const{landing_stats:t}=a.payload;e.landing_stats=t},UPDATE_MIN_BNUM_REQ(e,a){const{min_bnum_req:t}=a.payload;e.min_bnum_req=t},UPDATE_MIN_DELEG(e,a){const{min_deleg_stake:t}=a.payload;e.min_deleg_stake=t},UPDATE_REWARD_BLK_COUNTDOWN(e,a){const{reward_blk_countdown:t}=a.payload;e.reward_blk_countdown=t},UPDATE_TOTAL_STAKE_AMOUNT(e,a){const{total_stake_amount:t}=a.payload;e.total_stake_amount=t},UPDATE_SSN_DROPDOWN_LIST(e,a){const{dropdown_list:t}=a.payload;e.ssn_dropdown_list=t},UPDATE_SSN_LIST(e,a){const{ssn_list:t}=a.payload;e.ssn_list=t},UPDATE_FETCH_LANDING_STATS_STATUS(e,a){e.is_landing_stats_loading=a.payload},UPDATE_FETCH_SSN_STATS_STATUS(e,a){e.is_ssn_stats_loading=a.payload},PRELOAD_INFO_READY(){},POLL_STAKING_DATA_START(){},POLL_STAKING_DATA_STOP(){},QUERY_AND_UPDATE_STAKING_STATS(){}}}),{PRELOAD_INFO_READY:ve,POLL_STAKING_DATA_START:Se,POLL_STAKING_DATA_STOP:Te,QUERY_AND_UPDATE_STAKING_STATS:Oe,UPDATE_GZIL_ADDRESS:ke,UPDATE_GZIL_TOTAL_SUPPLY:Ce,UPDATE_LANDING_STATS:Re,UPDATE_MIN_BNUM_REQ:Le,UPDATE_MIN_DELEG:Pe,UPDATE_REWARD_BLK_COUNTDOWN:Ie,UPDATE_TOTAL_STAKE_AMOUNT:xe,UPDATE_SSN_DROPDOWN_LIST:De,UPDATE_SSN_LIST:je,UPDATE_FETCH_LANDING_STATS_STATUS:Ge,UPDATE_FETCH_SSN_STATS_STATUS:Me}=Ae.actions;var Be=Ae.reducer,Ue=t(191),Ze=t(2);const He=e=>e.blockchain,We=e=>e.user,Ve=e=>e.staking;var qe=t(4),Fe=t.n(qe);const ze=i.c.MAX_GZIL_SUPPLY.toString(),Ke=i.c.REWARD_ZIL_PER_DAY.toString(),Ye=x();function*Qe(){try{yield Object(Ze.e)(Ge(i.j.PENDING)),console.log("fetching preload...");const{impl:e}=yield Object(Ze.g)(He),a=e.replace("0x","");let t=[[a,"mindelegstake",[]],[a,"totalstakeamount",[]],[a,"bnum_req",[]],[a,"gziladdr",[]]];const n=yield Object(Ze.b)(xa.getSmartContractSubStateBatch,t),l=n[0].result.mindelegstake,r=n[1].result.totalstakeamount,s=n[2].result.bnum_req,c=n[3].result.gziladdr;f(),f(),f();const{total_supply:o}=yield Object(Ze.b)(xa.getSmartContractSubState,c,"total_supply");f(),f();const{last_withdraw_cycle_deleg:d}=yield Object(Ze.b)(xa.getSmartContractSubState,e,"last_withdraw_cycle_deleg");if(nt(d)){const{comm_for_ssn:a}=yield Object(Ze.b)(xa.getSmartContractSubState,e,"comm_for_ssn"),t=nt(a)?Object.keys(a).length.toString():"0",n=Object.keys(d).length.toString();let l="0";const s=yield Object(Ze.b)(xa.getTotalCoinSupply);if(nt(s)){const e=new Fe.a(Ha(s));l=new Fe.a(r).dividedBy(e).times(100).toFixed(5)}const c=new Fe.a(ze).shiftedBy(15),i=c.minus(new Fe.a(o)).dividedBy(c).times(100).toFixed(2),m=new Fe.a(r),u=new Fe.a(Ha(Ke)),E={circulatingSupplyStake:l,nodesNum:t,delegNum:n,gzil:o,remainingGzil:i,totalDeposits:r,estRealtimeAPY:u.dividedBy(m).times(36500).toFixed(2)};f(),yield Object(Ze.e)(Re({landing_stats:E}))}yield Object(Ze.e)(Le({min_bnum_req:s})),yield Object(Ze.e)(Pe({min_deleg_stake:l})),yield Object(Ze.e)(xe({total_stake_amount:r})),yield Object(Ze.e)(ke({gzil_address:c})),yield Object(Ze.e)(Ce({gzil_total_supply:o}))}catch(e){console.warn("fetch home data failed"),console.warn(e)}finally{yield Object(Ze.e)(Ge(i.j.COMPLETE)),yield Object(Ze.e)(ve())}}function*Je(){try{yield Object(Ze.e)(Me(i.j.PENDING)),f();const{impl:e}=yield Object(Ze.g)(He),a=e.replace("0x","");let t=[[a,"ssnlist",[]],[a,"ssn_deleg_amt",[]]];const n=yield Object(Ze.b)(xa.getSmartContractSubStateBatch,t),l=n[0].result.ssnlist,r=n[1].result.ssn_deleg_amt;f(),f();let s=[],c=[];for(const o in l){const e=l[o].arguments,a="True"===e[0].constructor?i.n.ACTIVE:i.n.INACTIVE;let t="0";r.hasOwnProperty(o)&&(t=Object.keys(r[o]).length.toString());const n={address:Object(u.toBech32Address)(o),name:e[3],apiUrl:e[5],stakeAmt:e[1],bufferedDeposits:e[6],commRate:e[7],commReward:e[8],delegNum:t,status:a},d={address:Object(u.toBech32Address)(o),name:e[3],stakeAmt:e[1],delegNum:t,commRate:e[7]};c.push(n),s.push(d)}yield Object(Ze.e)(De({dropdown_list:s})),yield Object(Ze.e)(je({ssn_list:c}))}catch(e){console.warn("fetch failed"),yield Object(Ze.e)(De({dropdown_list:[]})),yield Object(Ze.e)(je({ssn_list:[]}))}finally{yield Object(Ze.e)(Me(i.j.COMPLETE))}}function*Xe(){yield Object(Ze.e)(Te()),yield Object(Ze.b)(Je),yield Object(Ze.c)(Ye),yield Object(Ze.e)(Se())}function*$e(){for(;;)try{yield Object(Ze.b)(Je)}catch(e){console.warn("poll staking data failed"),console.warn(e)}finally{yield Object(Ze.c)(Ye)}}function*ea(){for(;;)yield Object(Ze.h)(Se),yield Object(Ze.f)([Object(Ze.b)($e),Object(Ze.h)(Te)])}var aa=function*(){yield Object(Ze.h)(fe),yield Object(Ze.d)(Qe),yield Object(Ze.d)(ea),yield Object(Ze.i)(Oe,Xe)};const{Random:ta,MersenneTwister19937:na}=t(237),la=new ta(na.autoSeed());class ra{constructor(){this.testnetIndex=void 0,this.mainnetIndex=void 0,this.randTestnetIndexList=void 0,this.randMainnetIndexList=void 0,this.testnetApiList=void 0,this.mainnetApiList=void 0,this.testnetIndex=0,this.mainnetIndex=0,this.testnetApiList=[],this.mainnetApiList=[],this.randTestnetIndexList=[],this.randMainnetIndexList=[]}static getInstance(){return ra.instance||(ra.instance=new ra),ra.instance}fetchApi(e,a){e===i.i.MAINNET&&0===this.mainnetApiList.length?(this.mainnetApiList=a.length>0?[...a]:["https://api.zilliqa.com"],this.randMainnetIndexList=la.shuffle(Array.from(Array(this.mainnetApiList.length).keys()))):e===i.i.TESTNET&&0===this.testnetApiList.length&&(this.testnetApiList=a.length>0?[...a]:["https://dev-api.zilliqa.com"],this.randTestnetIndexList=la.shuffle(Array.from(Array(this.testnetApiList.length).keys())));let t=0,n=0,l="";return e===i.i.MAINNET?(n=this.randMainnetIndexList[this.mainnetIndex],l=this.mainnetApiList[n],t=this.mainnetApiList.length,this.mainnetIndex=this.mainnetIndex+1,this.mainnetIndex>=t&&(this.mainnetIndex=0)):(n=this.randTestnetIndexList[this.testnetIndex],l=this.testnetApiList[n],t=this.testnetApiList.length,this.testnetIndex=this.testnetIndex+1,this.testnetIndex>=t&&(this.testnetIndex=0)),l}}ra.instance=void 0;const sa=ra.getInstance(),{RewardCalculator:ca}=t(334),oa=D();let ia;const da=async(e,a,t,n)=>{if(!ia){ia=new ca(a,e);try{await ia.compute_maps()}catch(l){throw ia=null,l}}return await ia.get_rewards(t,n)},ma=async(e,a,t)=>{let n;for(let r=0;r<oa;r++)try{const{blockchain:l,api_list:r}=La.getState().blockchain,s=sa.fetchApi(l,r);n=await da(e,s,a,t);break}catch(l){continue}return n},ua=x();function*Ea(){f();try{const{address_base16:e}=yield Object(Ze.g)(We),a=yield Object(Ze.b)(xa.getBalance,e);f(),yield Object(Ze.e)($({balance:a}))}catch(e){console.warn("query and update balance failed"),yield Object(Ze.e)($({balance:"0"}))}}function*pa(){f();try{const{address_base16:e,selected_role:a}=yield Object(Ze.g)(We),{impl:t}=yield Object(Ze.g)(He),n=yield Object(Ze.b)(xa.isOperator,t,e);let l;a!==i.m.OPERATOR||n?l=a===i.m.OPERATOR&&n?i.m.OPERATOR:i.m.DELEGATOR:(console.error("user is not operator"),l=i.m.DELEGATOR),yield Object(Ze.e)(ce({role:l}))}catch(e){console.warn("query and update role failed"),console.warn(e)}}function*ha(){f();try{const{impl:e}=yield Object(Ze.g)(He),{address_base16:a}=yield Object(Ze.g)(We);let t;const{gzil_address:n}=yield Object(Ze.g)(Ve);if(n&&null!==n)t=n;else{const{gziladdr:a}=yield Object(Ze.b)(xa.getSmartContractSubState,e,"gziladdr");t=a}const l=yield Object(Ze.b)(xa.getSmartContractSubState,t,"balances",[a]);f(),nt(l)?yield Object(Ze.e)(ne({gzil_balance:l.balances[a]})):yield Object(Ze.e)(ne({gzil_balance:"0"}))}catch(e){console.warn("query and update gzil failed"),console.warn(e),yield Object(Ze.e)(ne({gzil_balance:"0"}))}}function*ba(){console.log("populate staking portfolio");try{const{address_base16:a,gzil_balance:t}=yield Object(Ze.g)(We),{impl:n}=yield Object(Ze.g)(He),l=yield Object(Ze.b)(xa.getSmartContractSubState,n,"deposit_amt_deleg",[a]);f();const{landing_stats:r,ssn_list:s}=yield Object(Ze.g)(Ve),c=!0===nt(l)?l.deposit_amt_deleg[a]:null;let o=[],i=new qe.BigNumber(0),d=new qe.BigNumber(0);for(const u in c){var e;const t=new qe.BigNumber(c[u]);i=i.plus(t);const l=yield Object(Ze.b)(ma,n,u,a),r=new qe.BigNumber(l);d=d.plus(r);const m=Object(b.toBech32Address)(u),E={ssnName:(null===(e=s.find(e=>e.address===m))||void 0===e?void 0:e.name)||"",ssnAddress:m,delegAmt:""+t,rewards:""+r};o.push(E)}f();const m={globalAPY:r.estRealtimeAPY,gzilBalance:t,gzilRewards:""+d,zilRewards:""+d,totalDeposits:""+i};yield Object(Ze.e)(ae({deleg_stats:m})),yield Object(Ze.e)(te({portfolio_list:o}))}catch(a){console.warn("populate staking portfolio failed"),console.warn(a),yield Object(Ze.e)(ae({deleg_stats:M})),yield Object(Ze.e)(te({portfolio_list:[]}))}}function*ga(){console.log("populate swap requests");try{const{address_base16:e}=yield Object(Ze.g)(We),{impl:a}=yield Object(Ze.g)(He),{deleg_swap_request:t}=yield Object(Ze.b)(xa.getSmartContractSubState,a,"deleg_swap_request");let n="",l=[];e in t&&(n=t[e]);let r=Object.keys(t).reduce((e,a)=>{let n=t[a];return e[n]=e[n]||[],e[n].push(a),e},{});e in r&&(l=r[e]);const s={swapRecipientAddress:n,requestorList:l};yield Object(Ze.e)(ie({swap_deleg_modal:s}))}catch(e){console.warn("populate swap requests failed"),console.warn(e),yield Object(Ze.e)(ie({swap_deleg_modal:U}))}}function*wa(){console.log("populate pending withdrawal");try{const{address_base16:e}=yield Object(Ze.g)(We),{impl:a}=yield Object(Ze.g)(He),t=yield Object(Ze.b)(xa.getSmartContractSubState,a,"withdrawal_pending",[e]);if(f(),!nt(t))throw new Error("no pending withdrawal for address");let n="0",l=[],r=new qe.BigNumber(0);const s=t.withdrawal_pending[e],{min_bnum_req:c}=yield Object(Ze.g)(Ve),o=yield Object(Ze.b)(xa.getNumTxBlocks),i=!0===nt(o)?new qe.BigNumber(o).minus(1):new qe.BigNumber(0);for(const d in s){let e=new qe.BigNumber(s[d]),a=new qe.BigNumber(d).plus(c),t=a.minus(i),o=new qe.BigNumber(0);if(t.isLessThanOrEqualTo(0))r=r.plus(e),t=new qe.BigNumber(0),o=new qe.BigNumber(1);else{const e=t.dividedBy(c);o=new qe.BigNumber(1).minus(e)}n=o.times(100).toFixed(2),l.push({amount:""+e,blkNumCountdown:""+t,blkNumCheck:""+a,progress:""+n})}f(),yield Object(Ze.e)(se({pending_withdraw_list:l})),yield Object(Ze.e)(ee({complete_withdrawal_amt:""+r}))}catch(e){console.warn("populate pending withdrawal failed"),yield Object(Ze.e)(se({pending_withdraw_list:[]})),yield Object(Ze.e)(ee({complete_withdrawal_amt:"0"}))}}function*_a(){try{const{blockchain:e}=yield Object(Ze.g)(He);let a=0;const t=yield Object(Ze.b)(xa.getNumTxBlocks);if(nt(t)){const n=parseInt(t)-1;a=yield Object(Ze.b)(tt,n,e)}yield Object(Ze.e)(Ie({reward_blk_countdown:""+a}))}catch(e){console.warn("populate reward blk countdown failed"),yield Object(Ze.e)(Ie({reward_blk_countdown:"0"}))}}function*fa(){yield Object(Ze.d)(ba),yield Object(Ze.d)(ga),yield Object(Ze.d)(wa),yield Object(Ze.d)(_a)}function*Na(){console.log("populate operator stats");try{yield Object(Ze.e)(me(i.j.PENDING));const{impl:e}=yield Object(Ze.g)(He),{address_base16:a}=yield Object(Ze.g)(We),t=yield Object(Ze.b)(xa.getSmartContractSubState,e,"ssnlist",[a]);if(!nt(t))throw new Error("no such operator");const n=t.ssnlist[a].arguments,l=yield Object(Ze.b)(xa.getSmartContractSubState,e,"ssn_deleg_amt",[a]),r=!0===nt(l)?Object.keys(l.ssn_deleg_amt[a]).length:0,s={name:n[3],stakeAmt:n[1],bufferedDeposits:n[6],commRate:n[7],commReward:n[8],delegNum:""+r,receiver:Object(b.toBech32Address)(n[9])};yield Object(Ze.e)(re({operator_stats:s}))}catch(e){console.warn("populate operator stats failed"),yield Object(Ze.e)(re({operator_stats:B}))}finally{yield Object(Ze.e)(me(i.j.COMPLETE))}}function*ya(){yield Object(Ze.d)(Na)}function*Aa(){yield Object(Ze.e)(J()),yield Object(Ze.e)(de(i.j.PENDING)),yield Object(Ze.a)([Object(Ze.b)(pa),Object(Ze.b)(Ea),Object(Ze.b)(ha)]);const{role:e}=yield Object(Ze.g)(We);e===i.m.OPERATOR?yield Object(Ze.b)(ya):yield Object(Ze.b)(fa),yield Object(Ze.e)(de(i.j.COMPLETE)),yield Object(Ze.c)(ua),yield Object(Ze.e)(Q())}function*va(){for(;;)try{yield Object(Ze.e)(de(i.j.PENDING));const{role:e}=yield Object(Ze.g)(We);e===i.m.OPERATOR?yield Object(Ze.b)(ya):yield Object(Ze.b)(fa)}catch(e){console.warn("poll user data failed")}finally{yield Object(Ze.e)(de(i.j.COMPLETE)),yield Object(Ze.c)(ua)}}function*Sa(){for(;;)yield Object(Ze.h)(Q),yield Object(Ze.f)([Object(Ze.b)(va),Object(Ze.h)(J)])}var Ta=function*(){yield Object(Ze.h)(W),yield Object(Ze.i)(Y,Aa),yield Object(Ze.h)([ve,ce]),yield Object(Ze.d)(Sa)};const Oa=Object(Ue.a)();var ka=Oa;const Ca=[...Object(G.c)(),ka],Ra=Object(G.a)({reducer:{user:Ee,blockchain:Ne,staking:Be},devTools:!1,middleware:Ca});Oa.run(aa),Oa.run(Ta);var La=Ra;const Pa=D(),Ia=ra.getInstance();class xa{}xa.getSmartContractSubStateBatch=async e=>{let a;for(let t=0;t<Pa&&(a=await xa.getActualSmartContractSubStateBatch(e),a===i.j.ERROR);t++);return a},xa.getActualSmartContractSubStateBatch=async e=>{try{const{blockchain:a,api_list:t}=La.getState().blockchain,n=Ia.fetchApi(a,t),l=new b.Zilliqa(n);let r=await l.blockchain.getSmartContractSubStateBatch(e);return r.hasOwnProperty("batch_result")&&void 0!==r.batch_result?r.batch_result.sort((function(e,a){return e.id-a.id})):i.j.ERROR}catch(a){return console.error(a),i.j.ERROR}},xa.getSmartContractSubState=async(e,a,t)=>{let n;for(let l=0;l<Pa&&(n=await xa.getActualSmartContractSubState(e,a,t),n===i.j.ERROR);l++);return n},xa.getBalance=async e=>{let a;for(let t=0;t<Pa&&(a=await xa.getActualBalance(e),a===i.j.ERROR);t++);return a===i.j.ERROR?"0":a},xa.getNumTxBlocks=async()=>{let e;for(let a=0;a<Pa&&(e=await xa.getActualNumTxBlocks(),e===i.j.ERROR);a++);return e},xa.getTotalCoinSupply=async()=>{let e;for(let a=0;a<Pa&&(e=await xa.getActualTotalCoinSupply(),e===i.j.ERROR);a++);return e},xa.isOperator=async(e,a)=>{if(!e||!a)return!1;f();const t=await xa.getSmartContractSubState(e,"ssnlist",[a]);return!(!t||null===t||t===i.j.ERROR)},xa.getActualNumTxBlocks=async()=>{try{const{blockchain:e,api_list:a}=La.getState().blockchain,t=Ia.fetchApi(e,a),n=new b.Zilliqa(t),l=await n.blockchain.getBlockChainInfo();return l.hasOwnProperty("result")&&void 0!==l.result?l.result.NumTxBlocks:i.j.ERROR}catch(e){return i.j.ERROR}},xa.getActualTotalCoinSupply=async()=>{try{const{blockchain:e,api_list:a}=La.getState().blockchain,t=Ia.fetchApi(e,a),n=new b.Zilliqa(t),l=await n.blockchain.getTotalCoinSupply();return l.hasOwnProperty("result")&&void 0!==l.result?l.result:i.j.ERROR}catch(e){return i.j.ERROR}},xa.getActualBalance=async e=>{try{const{blockchain:a,api_list:t}=La.getState().blockchain,n=Ia.fetchApi(a,t),l=new b.Zilliqa(n),r=await l.blockchain.getBalance(e);return r.hasOwnProperty("result")&&void 0!==r.result.balance?r.result.balance:"0"}catch(a){return i.j.ERROR}},xa.getActualSmartContractSubState=async(e,a,t)=>{if(!e)return console.error("error: get contract sub state - no implementation contract found"),i.j.ERROR;try{const{blockchain:n,api_list:l}=La.getState().blockchain,r=Ia.fetchApi(n,l),s=new b.Zilliqa(r);let c=null;return c=null!==t?await s.blockchain.getSmartContractSubState(e,a,t):await s.blockchain.getSmartContractSubState(e,a),c.hasOwnProperty("result")&&void 0!==c.result?c.result:i.j.ERROR}catch(n){return console.error(n),i.j.ERROR}};const{BN:Da,validation:ja,units:Ga}=t(17),Ma=t(4),Ba=I(),Ua=e=>ja.isAddress(e)?Object(u.fromBech32Address)(Object(u.toBech32Address)(e)):ja.isBech32(e)?Object(u.fromBech32Address)(e):e,Za=e=>ja.isAddress(e)?Object(u.toBech32Address)(e):e,Ha=e=>Ga.toQa(e,Ga.Units.Zil),Wa=e=>{if(!e)return 0;return new Ma(e).dividedBy(10**7)},Va=e=>/^\d+$/.test(e),qa=(e,a)=>new Da(e.toString()).mul(new Da(a.toString())),Fa=e=>{let a=Ga.fromQa(new Da(e),Ga.Units.Zil);const t=new Ma(a).toFixed(3).split(".");return t[0].replace(/(.)(?=(\d{3})+$)/g,"$1,")+"."+t[1]},za=e=>{let a="0.00";try{a=Ga.fromQa(new Da(e),Ga.Units.Zil)}catch(t){a="0.00"}return a},Ka=e=>{const a=new Ma(e).shiftedBy(-15).toFixed(3).split(".");return a[0].replace(/(.)(?=(\d{3})+$)/g,"$1,")+"."+a[1]},Ya=e=>{let a="";switch(e){case i.i.MAINNET:a=i.h.MAINNET;break;case i.i.TESTNET:default:a=i.h.TESTNET}return a},Qa=(e,a)=>{let t="";return t=Ba===i.f.VIEWBLOCK?a===i.i.MAINNET?"https://viewblock.io/zilliqa/tx/0x"+e:"https://viewblock.io/zilliqa/tx/0x"+e+"?network=testnet":"https://devex.zilliqa.com/tx/0x"+e+"?network="+a,t},Ja=(e,a)=>{let t="";return t=Ba===i.f.VIEWBLOCK?a===i.i.MAINNET?"https://viewblock.io/zilliqa/address/"+e:"https://viewblock.io/zilliqa/address/"+e+"?network=testnet":"https://devex.zilliqa.com/address/"+e+"?network="+a,t},Xa=e=>window.location.origin+"/address/"+e,$a=e=>{if(!e)return"";const a=e.length,t=e.substring(0,6),n=e.substring(a-4);return t.concat("...",n)},et=e=>{if(e===i.a.LEDGER)return h("info","Info","Accessing the ledger device for keys."),void h("info","Info","Please follow the instructions on the device.");e!==i.a.ZILPAY||h("info","Info","Please follow the instructions on ZilPay.")},at=async e=>{const a=await xa.getBalance(e),t=T.getGasFees();return!!new Da(a.toString()).gte(new Da(t.toString()))},tt=(e,a)=>{let t=0,n=0;a===i.i.MAINNET?(t=i.c.SAMPLE_REWARD_BLOCK_MAINNET,n=i.c.REWARD_BLOCK_COUNT_MAINNET):(t=i.c.SAMPLE_REWARD_BLOCK_TESTNET,n=i.c.REWARD_BLOCK_COUNT_TESTNET);return n-(e-t)%n},nt=e=>void 0!==e&&null!==e&&e!==i.j.ERROR;var lt=t(66);const rt=()=>Object(lt.b)(),st=lt.c;var ct=e=>l.a.createElement("div",{className:e.class?e.class:"spinner-border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."));function ot({columns:e,data:a,tableId:t,hiddenColumns:n,showStakeBtn:r}){let s={};s=r?{pageIndex:0,hiddenColumns:n,sortBy:[{id:"name",desc:!1}]}:{pageIndex:0,hiddenColumns:n,sortBy:[{id:"stakeAmt",desc:!0}]};const{getTableProps:c,getTableBodyProps:i,headerGroups:d,rows:u,prepareRow:E}=Object(m.useTable)({columns:e,data:a,initialState:s},m.useSortBy);return l.a.createElement(l.a.Fragment,null,l.a.createElement("table",Object.assign({id:t,className:"table table-responsive-lg "},c()),l.a.createElement("thead",null,d.map(e=>l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((e,a)=>l.a.createElement("th",Object.assign({scope:"col"},e.getHeaderProps()),""===e.render("tipText")?e.render("Header"):l.a.createElement("span",{className:"ssn-table-header-with-tip","data-for":"ssn-table-header-tip","data-tip":e.render("tipText")},e.render("Header"))))))),l.a.createElement("tbody",i(),u.map((e,a)=>(E(e),l.a.createElement("tr",e.getRowProps(),e.cells.map(e=>l.a.createElement("td",e.getCellProps(),e.render("Cell")))))))),l.a.createElement(o.a,{id:"ssn-table-header-tip",place:"top",type:"dark",effect:"solid"}))}var it=function(e){const a=rt(),t=st(e=>e.user.role),r=st(e=>e.staking.is_ssn_stats_loading),s=st(e=>e.staking.ssn_list),c=!!e.showStakeBtn&&e.showStakeBtn,o=(e=>{let a=new Ma(0);for(const t of e)a=a.plus(new Ma(t.stakeAmt));return a})(s),d=Object(n.useMemo)(()=>[{Header:"name",accessor:"name",tipText:""},{Header:"address",accessor:"address",className:"ssn-address",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,$a(e.original.address)),tipText:""},{Header:"api endpoint",accessor:"apiUrl",Cell:({row:e})=>l.a.createElement("span",{className:"ssn-table-api-url"},e.original.apiUrl),tipText:"Service API running by operator. Can be used as alternatives for Zilliqa API endpoint"},{Header:"stake amount (ZIL)",accessor:"stakeAmt",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,Fa(e.original.stakeAmt)," (",((e,a)=>{if(!e||!a||"0"===a)return 0;const t=new Ma(e),n=new Ma(a);return t.dividedBy(n).times(100)})(e.original.stakeAmt,o).toFixed(2),"%)")),tipText:"Total amount being staked with this operator"},{Header:"buffered deposit (ZIL)",accessor:"bufferedDeposits",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,Fa(e.original.bufferedDeposits))),tipText:"Total staked amount deposited in this cycle being considered for rewards in the next cycle"},{Header:"Comm. Rate (%)",accessor:"commRate",Cell:({row:e})=>l.a.createElement("span",null,Wa(e.original.commRate).toFixed(2)),tipText:"Percentage of incoming rewards that the operator takes as commission"},{Header:"Comm. Reward (ZIL)",accessor:"commReward",Cell:({row:e})=>l.a.createElement("span",{className:"ssn-table-comm-reward"},Fa(e.original.commReward)),tipText:"Number of ZILs earned as commission by the operator"},{Header:"Delegators",accessor:"delegNum",tipText:"Total number of delegators staking with this operator"},{Header:"Status",accessor:"status",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.original.status===i.n.ACTIVE?"px-2 py-1 rounded ssn-table-status-active":"px-2 py-1 rounded ssn-table-status-inactive"},e.original.status===i.n.INACTIVE?l.a.createElement(l.a.Fragment,null,"Below",l.a.createElement("br",null),"Min. Stake"):e.original.status)),tipText:"Determines whether the operator has met the minnimum stake amount and therefore ready to participate in staking and receive rewards"},{Header:"Stake",accessor:"stake",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"button",className:"btn btn-contract-small shadow-none","data-toggle":"modal","data-target":"#delegate-stake-modal","data-keyboard":"false","data-backdrop":"static",onClick:()=>{return t=e.original.name,n=e.original.address,l=e.original.commRate,void a(oe({stake_modal:{ssnName:t,ssnAddress:n,commRate:l}}));var t,n,l},disabled:"true"===i.d.IS_PAUSED.toString()},"Stake")),tipText:""}],[s,t]);return l.a.createElement(l.a.Fragment,null,r===i.j.PENDING&&l.a.createElement(ct,{class:"spinner-border dashboard-spinner mb-4"}),r===i.j.COMPLETE&&l.a.createElement(ot,{columns:d,data:s,className:e.tableId,hiddenColumns:(()=>{let e=["address"];return void 0!==t&&t===i.m.DELEGATOR&&"true"!==i.d.IS_PAUSED.toString()?e.push("commReward","apiUrl"):void 0!==t&&t===i.m.DELEGATOR&&"true"===i.d.IS_PAUSED.toString()&&e.push("stake"),!1!==c&&t!==i.m.OPERATOR||e.push("stake"),e})(),showStakeBtn:c}))};var dt=function(e){return l.a.createElement("footer",{id:"disclaimer",className:"align-items-start"},l.a.createElement("div",{className:"p-2 d-block"},l.a.createElement("span",{className:"mx-3 align-middle"},"\xa9 2023 Zilliqa"),l.a.createElement("button",{type:"button",className:"btn shadow-none","data-toggle":"modal","data-target":"#disclaimer-modal","data-keyboard":"false","data-backdrop":"static"},"Disclaimer")))};var mt=function(e){const[a,t]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),[c,o]=Object(n.useState)();return l.a.createElement("div",{className:"wallet-access"},l.a.createElement("h2",null,"Access wallet via Keystore"),l.a.createElement("div",null,l.a.createElement("div",{id:"keystore"},l.a.createElement("p",{className:"file-name"},a),l.a.createElement("label",{htmlFor:"browsekeystore"},"Select wallet file"),l.a.createElement("input",{type:"file",id:"browsekeystore",onChange:e=>{let a=e.target.files[0];t(a.name),o(a)}})),l.a.createElement("input",{id:"keystore-passphrase",type:"password",name:"password",className:"p-2",placeholder:"Enter your passphrase",value:r,onChange:e=>{s(e.target.value)}})),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2",onClick:()=>{if(void 0===c||null===c||""===c)return void h("error","Keystore not found","Please upload a keystore file.");const a=new FileReader;a.readAsText(c),a.onload=async()=>{e.onWalletLoadingCallback();const t=a.result,n=await T.addWalletByKeystore(t,r);if(n!==i.j.ERROR){f();const a=Object(b.toBech32Address)(n);e.onSuccessCallback(n.toLowerCase(),a,i.a.KEYSTORE)}else h("error","Keystore Decrypt Error","Please ensure your passphrase is correct.")},a.onerror=e=>{console.error(e)}}},"Unlock Wallet"),l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2",onClick:e.onReturnCallback},"Back"))},ut=t(83),Et=t.n(ut);var pt=function(e){const[a,t]=Object(n.useState)(0),[r,s]=Object(n.useState)([]),c=()=>{t(0),s([])},o=async e=>{try{h("info","Info","Please follow the instructions on the device.");const a=await _.a.getTransport(),n=new _.a(a),l=(await n.getPublicAddress(e)).pubAddr,c={hwIndex:e,bech32Address:l,balance:await xa.getBalance(l)},o=r.slice();o.push(c),s([...o]),t(e)}catch(a){console.error("error getting ledger index: %o",a),h("error","Unable to access ledger","Have you unlock the PIN code?")}},d=async a=>{if(f(),void 0===typeof r[a])return console.error("no such ledger wallet index: %o",a),h("error","Unable to access account","Are you sure it is correct?"),null;try{const t=r[a].bech32Address;Et()("#ledger-connect-modal").modal("hide"),e.onWalletLoadingCallback(),f(),f();const n=Ua(t).toLowerCase();e.onSuccessCallback(n,t,i.a.LEDGER,a)}catch(t){console.error("error unlocking ledger...:%o",t),h("error","Unable to access ledger","Have you unlock the PIN code?"),Et()("#ledger-connect-modal").modal("hide"),c()}};return l.a.createElement("div",{className:"wallet-access"},l.a.createElement("h2",null,"Access wallet using Hardware Ledger"),l.a.createElement("div",{id:"ledger-connect-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"ledgerConnectModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:c},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("table",{className:"table p-4 mt-2 mb-4"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Index"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Balance (ZIL)"))),l.a.createElement("tbody",null,r&&r.map(e=>l.a.createElement("tr",{className:"account-row",onClick:()=>d(e.hwIndex),key:e.hwIndex},l.a.createElement("td",null,"#",e.hwIndex),l.a.createElement("td",null,e.bech32Address),l.a.createElement("td",null,Fa(e.balance)))))),l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2",onClick:()=>o(a+1)},"Next Account"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2",onClick:()=>d(0)},"Use Default Index #",0))))),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2","data-toggle":"modal","data-target":"#ledger-connect-modal","data-keyboard":"false","data-backdrop":"static",onClick:()=>o(a)},"Connect to Ledger Wallet"),l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2",onClick:e.onReturnCallback},"Back"))};var ht=function(e){const a=P();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"wallet-access"},l.a.createElement("h2",null,"Access wallet using ZilPay"),a===i.e.PROD?l.a.createElement("p",{className:"my-4"},l.a.createElement("strong",null,"Note:")," We remind all users to set your ZilPay network to ",l.a.createElement("strong",null,"Mainnet")):l.a.createElement("p",{className:"my-4"},l.a.createElement("strong",null,"Note:")," We remind all users to set your ZilPay network to ",l.a.createElement("strong",null,"Testnet")),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2",onClick:async()=>{const a=window.zilPay;if(!a)return h("warn","ZilPay Not Installed","Please install ZilPay wallet."),null;if(!a.wallet.isEnable)return h("warn","Locked Wallet","Please unlock wallet on ZilPay."),null;try{if(!await a.wallet.connect())return h("error","Locked Wallet","Please allow ZilPay to access this app."),null;const{base16:t}=a.wallet.defaultAccount,n=Object(u.toBech32Address)(t);e.onWalletLoadingCallback(),e.onSuccessCallback(t,n,i.a.ZILPAY)}catch(t){console.error("error unlocking via zilpay...: %o",t),h("error","Unable to access ZilPay","Please check if there is a new ZilPay version or clear your browser cache.")}}},"Unlock Wallet"),l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2",onClick:e.onReturnCallback},"Back")))};var bt=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 54.6 64.2",className:e.className,width:e.width,height:e.height},l.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},l.a.createElement("path",{className:"cls-1",d:"M31.5,25.2a1.1,1.1,0,0,0-1.6.4h0L22.7,37.4a1.2,1.2,0,0,0,.5,1.6,1.1,1.1,0,0,0,1.6-.4h0l7.1-11.8a1.2,1.2,0,0,0-.4-1.6Z"}),l.a.createElement("path",{className:"cls-1",d:"M35.4,25.4a1.2,1.2,0,0,0-1.7-.1,1.1,1.1,0,0,0-.2,1.6l4.1,5.2-4.1,5.2a1.1,1.1,0,0,0,.2,1.6,1.2,1.2,0,0,0,1.7-.1l4.7-6a1.2,1.2,0,0,0,0-1.4Z"}),l.a.createElement("path",{className:"cls-1",d:"M19.3,38.8a1.1,1.1,0,0,0,1.7.1,1.1,1.1,0,0,0,.1-1.6L17,32.1l4.1-5.2a1.1,1.1,0,0,0-.1-1.6,1.1,1.1,0,0,0-1.7.1l-4.8,6a1.2,1.2,0,0,0,0,1.4Z"}),l.a.createElement("path",{className:"cls-2",d:"M46.4,64H8.2a8,8,0,0,1-8-8V8.2a8,8,0,0,1,8-8H46.4a8,8,0,0,1,8,8V56A8,8,0,0,1,46.4,64ZM8.2,3.4A4.9,4.9,0,0,0,3.4,8.2V56a4.8,4.8,0,0,0,4.8,4.8H46.4A4.7,4.7,0,0,0,51.2,56V8.2a4.8,4.8,0,0,0-4.8-4.8Z"}))))};var gt=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 51.4 52.6",className:e.className,width:e.width,height:e.height},l.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},l.a.createElement("path",{className:"cls-1",d:"M35.1,32.3H20.8c-.8,0-1-.3-1-1.1V2.1c0-.7.2-1,.9-1H42.8a7.7,7.7,0,0,1,7.4,7.5c.1,7.6,0,15.2.1,22.9,0,.8-.4.9-1.1.9Z"}),l.a.createElement("path",{className:"cls-1",d:"M31.5,45.5c0,1.7,0,3.4.1,5.1s-.3.9-.9.9H20.6c-.6,0-.8-.2-.8-.8V40.2c0-.6.2-.8.8-.8H30.7c.7,0,.9.3.8.9Z"}),l.a.createElement("path",{className:"cls-1",d:"M1.1,26.2V21.1c0-.7.2-.9.9-.9h9.9c.7,0,1,.2,1,.9-.1,3.4-.1,6.8,0,10.3,0,.7-.3,1-1,1q-5-.1-9.9,0c-.7,0-.9-.3-.9-1Z"}),l.a.createElement("path",{className:"cls-1",d:"M38.5,45.4V40.3c0-.7.2-.9.9-.9h10c.4,0,.9-.1.9.6a38.5,38.5,0,0,1-.2,4.8c-.7,4-3.7,6.5-7.9,6.7H39.4c-.7,0-.9-.2-.9-.9Z"}),l.a.createElement("path",{className:"cls-1",d:"M7,39.4h4.8c.7,0,1.1.1,1.1.9-.1,3.4,0,6.9,0,10.3,0,.4,0,.9-.6.9a20.4,20.4,0,0,1-5.5-.3,8.1,8.1,0,0,1-5.7-7.5c0-1.1.1-2.3,0-3.5s.3-.8.9-.8Z"}),l.a.createElement("path",{className:"cls-1",d:"M7,13.1H2c-.7,0-.9-.3-.9-1a36.2,36.2,0,0,1,.2-4.6A7.7,7.7,0,0,1,8.9,1.1H12c.7,0,.9.3.9,1-.1,3.3-.1,6.7,0,10.1,0,.8-.3,1-1,1Z"}))))};var wt=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 59.4 59.3",className:e.className,width:e.width,height:e.height},l.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},l.a.createElement("path",{className:"cls-1",d:"M27.4,58.4c-9.4-.9-17.9-5.9-22.5-13a28,28,0,0,1-3.8-9.7,59.2,59.2,0,0,1-.3-6.3c.3-6.6,1.8-11.7,4.9-16.2A23,23,0,0,1,9,9.4a28.9,28.9,0,0,1,8.4-5.7A28.8,28.8,0,0,1,26.2,1a43.3,43.3,0,0,1,7.2,0A29.1,29.1,0,0,1,48.5,8.4c5,4.4,8.3,9.5,9.5,14.8a20.1,20.1,0,0,1,.5,5.1,18.7,18.7,0,0,1-.5,5.4l-.3,1.4-1,.2a62.4,62.4,0,0,0-8.8,2.3l-4.7,2a40.5,40.5,0,0,1-4.9,1.9,14.8,14.8,0,0,1-7.8.1,7.4,7.4,0,0,1-5.2-5.5,7.5,7.5,0,0,1,.2-3.3,16.1,16.1,0,0,1,3.8-6.4l.7-.8s.1.9.3,2,.2,2,.2,2l.8-.3a13.6,13.6,0,0,1,7.5-.4,48.7,48.7,0,0,1,5.8,1.8l2.1.7a10.8,10.8,0,0,0,5.6-.7c.5-.2.5-.2.6-.7a7.6,7.6,0,0,0,0-3v-.6l-1.7-1.2C40.4,18.1,31.5,14,23.9,12.5c-2-.4-5.6-.8-5.6-.6v.2c-.1.1,1,.7,3.7,2l3.8,1.8-1.6.6a57.1,57.1,0,0,0-6,2.4A22.4,22.4,0,0,0,14.6,21l1.8.2,1.7.2-1,1c-1.2,1.3-2,2.2-3.8,4.5l-1.6,1.9h2.7l-1.3,4.6c-.8,2.5-1.4,4.6-1.4,4.6l1.4-.3c1-.2,1.5-.3,1.5-.2s.2,2.1.4,4.5.3,4.5.3,4.5l1.3-1a8.9,8.9,0,0,1,1.2-1,34.8,34.8,0,0,1,2.5,3.6l2.5,3.7L24,50.6c.8-1,1.1-1.2,1.2-1.1l1,1.2a18,18,0,0,0,1.9,2.1l1,1h2.2a21.4,21.4,0,0,1,8.5,1.4l.8.3-.3.2a15.2,15.2,0,0,1-6.7,2.6l-3.3.2Z"}))))};var _t=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"}))};var ft=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"}))},Nt=t(84),yt=t.n(Nt),At=t(85),vt=t.n(At);var St=function(e){const a=st(e=>e.staking.is_landing_stats_loading),t=st(e=>e.staking.landing_stats);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"landing-stats",className:"container"},l.a.createElement("div",{className:"row p-4"},l.a.createElement("h2",{className:"mb-4"},"Statistics"),l.a.createElement("div",{className:"col-12 align-items-center"},a===i.j.PENDING&&l.a.createElement(ct,{class:"spinner-border dashboard-spinner mb-4"}),a===i.j.COMPLETE&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row pb-3 mx-auto justify-content-center"},l.a.createElement("div",{className:"d-block landing-stats-card"},l.a.createElement("h3",null,"EST. Realtime APR"),l.a.createElement("span",null,t.estRealtimeAPY,"%")),l.a.createElement("div",{className:"d-block landing-stats-card"},l.a.createElement("h3",null,"Circulating Supply Staked"),l.a.createElement("span",null,t.circulatingSupplyStake,"%")),l.a.createElement("div",{className:"d-block landing-stats-card"},l.a.createElement("h3",null,"Delegators / Staked Seed Nodes"),l.a.createElement("span",null,t.delegNum," / ",t.nodesNum)),l.a.createElement("div",{className:"w-100"}),l.a.createElement("div",{className:"d-block landing-stats-card"},l.a.createElement("h3",null,"Stake Amount"),l.a.createElement("span",null,Fa(t.totalDeposits))),l.a.createElement("div",{className:"d-block landing-stats-card"},l.a.createElement("h3",null,"Total GZIL minted"),l.a.createElement("span",null,Ka(t.gzil))),l.a.createElement("div",{className:"d-block landing-stats-card"})))))))};function Tt(e){var a;try{a=window[e];var t="__storage_test__";return a.setItem(t,t),a.removeItem(t),!0}catch(n){return console.error("no local storage present"),!1}}var Ot=(e=!0)=>{const[a,t]=Object(n.useState)(()=>{try{const a=window.localStorage.getItem("dark-theme"),t=document.documentElement.getAttribute("data-theme");if(null!==a){const e=JSON.parse(a);return(e=>{e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")})(e),e}if(null!==t&&""!==t){return"dark"===t}return e}catch(a){return e}});return Object(n.useEffect)(()=>{Tt("localStorage")&&window.localStorage.setItem("dark-theme",JSON.stringify(a)),a?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")},[a]),{value:a,enable:Object(n.useCallback)(()=>{t(!0)},[t]),disable:Object(n.useCallback)(()=>{t(!1)},[t])}};var kt=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,className:e.className,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))};var Ct=function(e){const a=P();return l.a.createElement("div",{id:"banner",className:"mb-4 text-center"},a===i.e.PROD?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"px-3 py-3"},l.a.createElement("strong",null,"Warning"),": Zillion is in beta phase. Use this dApp at your own risk.",l.a.createElement("br",null),l.a.createElement("div",{className:"mt-3"},l.a.createElement("strong",null,"Important"),": Please note that gZIL minting has concluded as of ",l.a.createElement("span",{className:"final-gzil-mint-block ml-2"},"Block 1483713"),". ",l.a.createElement("span",{className:"mx-2"},"No further gZIL will be minted.")," The Zilliqa staking program will still continue to distribute ZIL for staking rewards.")),"true"===i.d.IS_PAUSED.toString()&&l.a.createElement("div",{className:"px-3 py-3"},l.a.createElement("strong",null,"Attention"),": We have noticed an issue with the staking contract which is causing a slowdown of the Zilliqa network. ",l.a.createElement("br",null),"While we are investigating the issue and work on a fix, the staking contract has been paused for a week (starting from May 21, 2021).",l.a.createElement("br",null),"Once the staking contract is unpaused, any missed rewards for the paused period will be retroactively disbursed.",l.a.createElement("br",null),"All funds are SAFU and we apologize for your inconvenience. ")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"p-3"},l.a.createElement("strong",null,"Warning"),": Zillion is still in testnet. You are using this dApp at your own risk. Zilliqa cannot assume any responsibility for any loss of funds.")))},Rt=t(87),Lt=t.n(Rt),Pt=t(15);var It=function(e){const a=st(e=>e.blockchain.blockchain),t=Object(n.useRef)(!0),[r,s]=Object(n.useState)("0"),[c,o]=Object(n.useState)("0"),[d,m]=Object(n.useState)("0");return Object(n.useEffect)(()=>{let e="0",n="0",l="0";Object(Pt.trackPromise)(xa.getNumTxBlocks().then(t=>{if(void 0===t||t===i.j.ERROR)return null;const r=parseInt(t)-1,s=tt(r,a),c=r+s;e=r.toString(),n=s.toString(),l=c.toString()}).catch(e=>{console.error(e)}).finally(()=>{f(),t.current&&(s(e),m(n),o(l))}))},[a]),l.a.createElement("div",{id:"stake-rewards-distribution",className:"container"},l.a.createElement("div",{className:"row p-4"},l.a.createElement("h2",{className:"mb-4"},"Rewards Distribution"),l.a.createElement("div",{className:"col-12 align-items-center"},l.a.createElement("div",{className:"row mx-auto justify-content-center"},l.a.createElement("div",{className:"d-block stake-rewards-card"},l.a.createElement("h3",null,"Current Block Num."),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(Lt.a,{fontStyle:{fontFamily:"Avenir Next LT Pro",fontSize:22,fontWeight:600},animateToNumber:r,config:{tension:120,friction:17}}))),l.a.createElement("div",{className:"d-block stake-rewards-card"},l.a.createElement("h3",null,"Blocks Until Rewards"),l.a.createElement("div",{className:"test d-flex justify-content-center"},l.a.createElement(Lt.a,{fontStyle:{fontFamily:"Avenir Next LT Pro",fontSize:22,fontWeight:600},animateToNumber:d,config:{tension:120,friction:17}}))),l.a.createElement("div",{className:"d-block stake-rewards-card"},l.a.createElement("h3",null,"Est. Reward Block Num."),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(Lt.a,{fontStyle:{fontFamily:"Avenir Next LT Pro",fontSize:22,fontWeight:600},animateToNumber:c,config:{tension:120,friction:17}})))))))};var xt=Object(c.g)((function(e){const a=rt(),t=st(e=>e.blockchain),r=P(),[s,c]=Object(n.useState)(!1),[m,u]=Object(n.useState)(!1),[p,h]=Object(n.useState)(""),[b,g]=Object(n.useState)(""),[w,_]=Object(n.useState)(""),[N,y]=Object(n.useState)(()=>r===i.e.PROD?i.h.MAINNET:i.h.TESTNET),A=Ot(!0),v=()=>{_(""),c(!1)},S=async(n,l,r,s)=>{var c;a(W({address_base16:n,address_bech32:l,account_type:r,authenticated:!0,selected_role:b})),a(Y()),await T.changeNetwork(t.blockchain),r===i.a.LEDGER&&"undefined"!==typeof s&&a(le({ledger_index:s})),await(c=1e3,new Promise(e=>setTimeout(e,c))),f(),e.history.push("/dashboard")},O=e=>{_(e)},k=e=>{g(e),u(!0)},C=()=>{c(!0)},R=()=>{const a="/address/"+p;e.history.push(a)};return Object(n.useEffect)(()=>{r===i.e.PROD?y(i.h.MAINNET):y(i.h.TESTNET),a(Oe())},[r,N,a]),Object(n.useEffect)(()=>{window.onbeforeunload=null},[]),l.a.createElement("div",{className:"cover"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row align-items-center"},l.a.createElement("div",{className:"cover-content col-12 text-center"},l.a.createElement(Ct,null),l.a.createElement("div",{id:"home-mini-navbar",className:"true"===i.d.IS_PAUSED.toString()?"home-mini-navbar-disabled d-flex align-items-end mr-4":"home-mini-navbar-enabled d-flex align-items-end mr-4"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-theme shadow-none mr-3",onClick:()=>{!0===A.value?A.disable():A.enable()}},!0===A.value?l.a.createElement(_t,{width:"20",height:"20"}):l.a.createElement(ft,{width:"20",height:"20"}))),(r===i.e.STAGE||r===i.e.PROD)&&l.a.createElement("span",{className:"mr-2"},N)),l.a.createElement("div",{className:"heading"},l.a.createElement(l.a.Fragment,null,!0===A.value?l.a.createElement("img",{src:yt.a,alt:"zillion",width:"480px",className:"mt-2 mb-4 zillion-logo"}):l.a.createElement("img",{src:vt.a,alt:"zillion",width:"480px",className:"mt-2 mb-4 zillion-logo"})),l.a.createElement("p",{className:"tagline"},"Staking with Zilliqa. Simplified!")),m?w?l.a.createElement(l.a.Fragment,null,s?l.a.createElement(l.a.Fragment,null,(f(),l.a.createElement("div",{className:"wallet-access"},l.a.createElement("h2",null,"Retrieving wallet info..."),l.a.createElement("div",{className:"spinner-border dashboard-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Connecting..."))))):l.a.createElement(l.a.Fragment,null,(()=>{switch(w){case i.a.KEYSTORE:return l.a.createElement(mt,{onReturnCallback:v,onWalletLoadingCallback:C,onSuccessCallback:S,role:b});case i.a.ZILPAY:return l.a.createElement(ht,{onReturnCallback:v,onWalletLoadingCallback:C,onSuccessCallback:S,role:b});case i.a.LEDGER:return l.a.createElement(pt,{onReturnCallback:v,onWalletLoadingCallback:C,onSuccessCallback:S,role:b});default:return null}})())):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"wallet-connect-text animate__animated animate__fadeIn"},l.a.createElement("strong",null,"Connect your wallet to start")),l.a.createElement("div",{id:"wallet-access",className:"row align-items-center justify-content-center animate__animated animate__fadeIn mb-4"},l.a.createElement("div",{className:"btn-wallet-access d-block",onClick:()=>O(i.a.KEYSTORE)},l.a.createElement(bt,{className:"home-icon my-4",height:"42px"}),l.a.createElement("span",{className:"d-block mt-0.5"},"Keystore")),l.a.createElement("div",{className:"btn-wallet-access d-block",onClick:()=>O(i.a.LEDGER)},l.a.createElement(gt,{className:"home-icon icon-ledger-line my-4"}),l.a.createElement("span",{className:"d-block mt-0.5"},"Ledger")),l.a.createElement("div",{className:"btn-wallet-access d-block",onClick:()=>O(i.a.ZILPAY),"data-tip":r===i.e.PROD?"Ensure your ZilPay is on Mainnet network":"Ensure your ZilPay is on Testnet network"},l.a.createElement(wt,{className:"home-icon icon-zilpay-line my-4"}),l.a.createElement("span",{className:"d-block mt-0.5"},"ZilPay")),l.a.createElement(o.a,{place:"bottom",type:"light",effect:"float"})),l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mt-5 animate__animated animate__fadeIn",onClick:()=>(g(""),u(!1),void _(""))},"Back to Main")):l.a.createElement("div",{className:"initial-load"},l.a.createElement("div",{className:"btn btn-sign-in mt-4 mx-3",onClick:()=>k(i.m.DELEGATOR.toString())},"Sign in for Delegators"),l.a.createElement("div",{className:"btn btn-sign-in mt-4 mx-3",onClick:()=>k(i.m.OPERATOR.toString())},"Sign in for Operators"),l.a.createElement("div",{className:"btn btn-sign-in mt-4 mx-3",onClick:()=>window.location.href="https://dapp.avely.fi/",style:{backgroundColor:"#FF6FAC",color:"white"}},"Liquid Staking"),l.a.createElement("div",{className:"d-flex justify-content-center h-100"},l.a.createElement("div",{className:"explorer-search"},l.a.createElement("input",{type:"text",className:"explorer-search-input",value:p,onKeyDown:e=>{13===e.keyCode&&R()},onChange:e=>{h(e.target.value)},placeholder:"Enter wallet address to check rewards",maxLength:42}),l.a.createElement("button",{type:"button",className:"btn explorer-search-icon shadow-none",onClick:()=>R()},l.a.createElement(kt,{width:"18",height:"18"})))),l.a.createElement(It,null),l.a.createElement(St,null),l.a.createElement("div",{id:"home-ssn-details",className:"container"},l.a.createElement("div",{className:"row pl-2 pt-4"},l.a.createElement("div",{className:"col text-left"},l.a.createElement("h2",null,"Staked Seed Nodes"),l.a.createElement("p",{className:"info mt-4 mb-0"},"Please refer to our\xa0",l.a.createElement("a",{className:"info-link",href:t.staking_viewer?t.staking_viewer:"https://zilliqa.com/",target:"_blank",rel:"noopener noreferrer"},"Staking Viewer"),"\xa0for more information on the nodes' statuses."))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 content"},l.a.createElement(it,null)))))),l.a.createElement(E.a,{hideProgressBar:!0}),l.a.createElement(dt,{networkLabel:N}),l.a.createElement(d,null))))}));var Dt=function(e){const a=rt(),{ssnName:t,ssnAddress:n,delegAmt:r,rewards:s}=e;return l.a.createElement("div",{id:"delegator-dropdown",className:"dropdown dropright"},l.a.createElement("button",{className:"true"===i.d.IS_PAUSED.toString()?"btn btn-contract-small-disabled dropdown-toggle shadow-none":"btn btn-contract-small dropdown-toggle shadow-none","data-display":"static",type:"button",id:"dropdown-menu-btn","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Manage"),l.a.createElement("div",{className:"dropdown-menu delegator-menu animate__animated animate__fadeIn","aria-labelledby":"dropdown-menu-btn"},l.a.createElement("button",{type:"button",className:"btn btn-deleg-action shadow-none","data-toggle":"modal","data-target":"#withdraw-reward-modal","data-keyboard":"false","data-backdrop":"static",onClick:()=>{a(oe({stake_modal:{ssnName:t,ssnAddress:n,rewards:s}}))},disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Claim Rewards"),l.a.createElement("button",{type:"button",className:"btn btn-deleg-action shadow-none","data-toggle":"modal","data-target":"#redeleg-stake-modal","data-keyboard":"false","data-backdrop":"static",onClick:()=>{a(oe({stake_modal:{ssnName:t,ssnAddress:n,delegAmt:r}}))},disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Transfer Stake"),l.a.createElement("button",{type:"button",className:"btn btn-deleg-action shadow-none","data-toggle":"modal","data-target":"#withdraw-stake-modal","data-keyboard":"false","data-backdrop":"static",onClick:()=>{a(oe({stake_modal:{ssnName:t,ssnAddress:n,delegAmt:r}}))},disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Initiate Stake Withdrawal")))};function jt({columns:e,data:a}){const{getTableProps:t,getTableBodyProps:n,headerGroups:r,rows:s,prepareRow:c}=Object(m.useTable)({columns:e,data:a,initialState:{pageIndex:0,sortBy:[{id:"delegAmt",desc:!0}]}},m.useSortBy);return l.a.createElement("table",Object.assign({className:"table table-responsive-sm"},t()),l.a.createElement("thead",null,r.map(e=>l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>l.a.createElement("th",Object.assign({scope:"col"},e.getHeaderProps()),e.render("Header")))))),l.a.createElement("tbody",n(),s.map((e,a)=>(c(e),l.a.createElement("tr",e.getRowProps(),e.cells.map(e=>l.a.createElement("td",e.getCellProps(),e.render("Cell"))))))))}var Gt=function(e){const a=st(e=>e.user.deleg_staking_portfolio_list),t=st(e=>e.user.is_deleg_stats_loading),r=Object(n.useMemo)(()=>[{Header:"name",accessor:"ssnName"},{Header:"deposit (ZIL)",accessor:"delegAmt",Cell:({row:e})=>l.a.createElement("span",null,Fa(e.original.delegAmt))},{Header:"rewards (ZIL)",accessor:"rewards",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{"data-for":"rewards-tip","data-tip":za(e.original.rewards)},Fa(e.original.rewards)),l.a.createElement(o.a,{id:"rewards-tip",place:"bottom",type:"dark",effect:"solid"}))},{Header:"actions",accessor:"actions",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Dt,{ssnName:e.original.ssnName,ssnAddress:e.original.ssnAddress,delegAmt:e.original.delegAmt,rewards:e.original.rewards}))}],[]);return l.a.createElement(l.a.Fragment,null,t===i.j.PENDING&&l.a.createElement(ct,{class:"spinner-border dashboard-spinner mb-4"}),t===i.j.COMPLETE&&l.a.createElement(l.a.Fragment,null,0===a.length&&l.a.createElement("div",{className:"d-block px-4 pb-3 text-left"},l.a.createElement("em",null,"You have not deposited in any nodes yet.")),a.length>0&&l.a.createElement(jt,{columns:r,data:a})))};var Mt=()=>l.a.createElement("div",{className:"modal-body modal-processing text-center"},l.a.createElement("h2",null,"Processing..."),l.a.createElement("p",{className:"mt-4"},"Please wait 1 - 2 minutes while we process the request."),l.a.createElement("div",{className:"spinner-border dashboard-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")));var Bt=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6l7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z"}))};var Ut=e=>l.a.createElement("div",{className:"modal-body modal-sent text-center"},l.a.createElement(Bt,{className:"modal-icon-success",width:"80",height:"80"}),l.a.createElement("h2",{className:"mt-2"},"Transaction Sent"),l.a.createElement("div",{className:"txn-id"},l.a.createElement("a",{href:Qa(e.txnId,e.networkURL),target:"_blank",rel:"noopener noreferrer"},e.txnId)),l.a.createElement("button",{type:"button",className:"btn btn-user-action mt-2 mx-2","data-dismiss":"modal",onClick:e.handleClose},"Done"));var Zt=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 15l-4.243-4.243 1.415-1.414L12 12.172l2.828-2.829 1.415 1.414z"}))};var Ht=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 11.828l-2.828 2.829-1.415-1.414L12 9l4.243 4.243-1.415 1.414L12 11.828z"}))};var Wt=function(e){const{gasOption:a,gasPrice:t,onBlurGasPrice:n,onGasPriceChange:r,gasLimit:s,onBlurGasLimit:c,onGasLimitChange:o,setGasOption:i}=e;return l.a.createElement("div",null,a&&l.a.createElement("div",{className:"mt-4"},l.a.createElement("h3",{id:"fee-section-heading"},"Adjust Gas Fees"),l.a.createElement("div",{className:"row my-4"},l.a.createElement("div",{className:"col mr-4"},l.a.createElement("div",{className:"modal-label mb-2"},l.a.createElement("strong",null,"Gas Price")),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control shadow-none",value:t,onBlur:n,onChange:r}))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"modal-label mb-2"},l.a.createElement("strong",null,"Gas Limit")),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control shadow-none",value:s,onBlur:c,onChange:o}))))),l.a.createElement("div",{className:"d-flex mb-4"},l.a.createElement("div",null,l.a.createElement("span",{className:"fee-head"},l.a.createElement("strong",null,"Fee"),":  ",l.a.createElement("span",{className:"fee"},(()=>{if(!t||!s)return new Fe.a(0);return new Fe.a(t).multipliedBy(new Fe.a(s))})().shiftedBy(-12).toFixed())," ZIL")),l.a.createElement("button",{className:"ml-auto btn advanced-btn shadow-none",onClick:()=>i(!a)},a?l.a.createElement("div",{className:"advanced-btn-div"},l.a.createElement(Ht,{width:"28",height:"28",className:"pb-1"}),l.a.createElement("span",null,"Advanced Settings")):l.a.createElement("div",{className:"advanced-btn-div"},l.a.createElement(Zt,{width:"28",height:"28",className:"pb-1"}),l.a.createElement("span",null,"Advanced Settings")))))};const{BN:Vt}=t(17);var qt=function(e){const a=st(e=>e.blockchain.proxy),t=st(e=>e.blockchain.blockchain),r=st(e=>e.user.address_base16),s=st(e=>e.user.ledger_index),c=st(e=>e.user.account_type),o=st(e=>e.user.operator_stats.commReward),d=T.getDefaultGasPrice(),m=T.getDefaultGasLimit(),[u,p]=Object(n.useState)(d),[g,w]=Object(n.useState)(m),[_,f]=Object(n.useState)(!1),{updateData:N,updateRecentTransactions:y}=e,[A,v]=Object(n.useState)(""),[S,O]=Object(n.useState)(""),k=()=>{A&&(y(i.o.WITHDRAW_COMM,A),N()),E.b.dismiss(),setTimeout(()=>{v(""),O(""),f(!1),p(d),w(m)},150)};return l.a.createElement("div",{id:"withdraw-comm-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"withdrawCommModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},S?l.a.createElement(Mt,null):A?l.a.createElement(Ut,{txnId:A,networkURL:t,handleClose:k}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"withdrawCommModalLabel"},"Withdraw Commission"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:k},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Commission Rewards"),l.a.createElement("span",null,o?Fa(o):"0.000"," ZIL"))),l.a.createElement("p",null,"Are you sure you wish to withdraw ",l.a.createElement("strong",null,o?Fa(o):"0.000")," ZIL?"),l.a.createElement(Wt,{gasOption:_,gasPrice:u,gasLimit:g,setGasOption:f,onBlurGasPrice:()=>{(""===u||new Fe.a(u).lt(new Fe.a(d)))&&(p(d),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===g||new Fe.a(g).lt(50))&&w(m)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&p(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&w(a)}}),l.a.createElement("div",{className:"d-flex mt-2"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto shadow-none",onClick:async()=>{if(!1===await at(r)){const e=qa(u,g);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+b.units.fromQa(e,b.units.Units.Zil)+" ZIL."),null}let e={toAddr:Ua(a),amount:new Vt(0),code:"",data:JSON.stringify({_tag:i.l.WITHDRAW_COMM,params:[]}),gasPrice:u,gasLimit:g};O(i.j.PENDING),et(c),Object(Pt.trackPromise)(T.sign(c,e,s).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):v(e)}).finally(()=>{O("")}))}},"Withdraw")))))))};const{BN:Ft}=t(17);var zt=function(e){const a=st(e=>e.blockchain.proxy),t=st(e=>e.blockchain.blockchain),r=st(e=>e.user.address_base16),s=st(e=>e.user.ledger_index),c=st(e=>e.user.account_type),o=st(e=>e.user.operator_stats.receiver),d=T.getDefaultGasPrice(),m=T.getDefaultGasLimit(),[u,p]=Object(n.useState)(d),[g,w]=Object(n.useState)(m),[_,f]=Object(n.useState)(!1),{updateData:N,updateRecentTransactions:y}=e,[A,v]=Object(n.useState)(""),[S,O]=Object(n.useState)(""),[k,C]=Object(n.useState)(""),R=()=>{S&&(y(i.o.UPDATE_RECV_ADDR,S),N()),E.b.dismiss(),setTimeout(()=>{v(""),O(""),C(""),f(!1),p(d),w(m)},150)};return l.a.createElement("div",{id:"update-recv-addr-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"updateRecvAddrModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},k?l.a.createElement(Mt,null):S?l.a.createElement(Ut,{txnId:S,networkURL:t,handleClose:R}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"updateRecvAddrModalLabel"},"Update Receiving Address"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:R},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Current Receiving Address"),l.a.createElement("span",null,o||"none"))),l.a.createElement("input",{type:"text",className:"mb-4",value:A,onChange:e=>v(e.target.value),placeholder:"Enter new address in bech32 format"}),l.a.createElement(Wt,{gasOption:_,gasPrice:u,gasLimit:g,setGasOption:f,onBlurGasPrice:()=>{(""===u||new Fe.a(u).lt(new Fe.a(d)))&&(p(d),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===g||new Fe.a(g).lt(50))&&w(m)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&p(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&w(a)}}),l.a.createElement("div",{className:"d-flex mt-2"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto shadow-none",onClick:async()=>{if(!A)return h("error","Invalid Address","Receiving address should be bech32 or checksum format."),null;if(!1===await at(r)){const e=qa(u,g);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+b.units.fromQa(e,b.units.Units.Zil)+" ZIL."),null}const e=Ua(a),t=Ua(A).toLowerCase();let n={toAddr:e,amount:new Ft(0),code:"",data:JSON.stringify({_tag:i.l.UPDATE_RECV_ADDR,params:[{vname:"new_addr",type:"ByStr20",value:""+t}]}),gasPrice:u,gasLimit:g};C(i.j.PENDING),et(c),Object(Pt.trackPromise)(T.sign(c,n,s).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):O(e)}).finally(()=>{C("")}))}},"Update")))))))};const{BN:Kt}=t(17);var Yt=function(e){const a=st(e=>e.blockchain.proxy),t=st(e=>e.blockchain.blockchain),r=st(e=>e.user.address_base16),s=st(e=>e.user.ledger_index),c=st(e=>e.user.account_type),o=st(e=>e.user.operator_stats.commRate),d=T.getDefaultGasPrice(),m=T.getDefaultGasLimit(),[u,p]=Object(n.useState)(d),[g,w]=Object(n.useState)(m),[_,N]=Object(n.useState)(!1),{updateData:y,updateRecentTransactions:A}=e,[v,S]=Object(n.useState)(""),[O,k]=Object(n.useState)(""),[C,R]=Object(n.useState)(""),L=()=>{O&&(A(i.o.UPDATE_COMM_RATE,O),y()),E.b.dismiss(),setTimeout(()=>{S(""),k(""),R(""),N(!1),p(d),w(m)},150)};return l.a.createElement("div",{id:"update-comm-rate-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"updateCommRateModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},C?l.a.createElement(Mt,null):O?l.a.createElement(Ut,{txnId:O,networkURL:t,handleClose:L}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"updateCommRateModalLabel"},"Update Commission Rate"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:L},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Current Commission Rate"),l.a.createElement("span",null,o?Wa(o).toFixed(2):"0.00","%"))),l.a.createElement("div",{className:"input-group mb-4"},l.a.createElement("input",{type:"text",className:"form-control shadow-none",value:v,onChange:e=>S(e.target.value),placeholder:"Enter new rate",maxLength:9}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text pl-4 pr-3"},"%"))),l.a.createElement(Wt,{gasOption:_,gasPrice:u,gasLimit:g,setGasOption:N,onBlurGasPrice:()=>{(""===u||new Fe.a(u).lt(new Fe.a(d)))&&(p(d),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===g||new Fe.a(g).lt(50))&&w(m)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&p(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&w(a)}}),l.a.createElement("div",{className:"d-flex mt-2"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto shadow-none",onClick:async()=>{if(!v||!v.match(/\d/))return h("error","Invalid Commission Rate","Please enter an appropriate value, e.g. 10.5"),null;if(v.length>9)return h("error","Invalid Commission Rate","Commission rate should have a maximum of 7 decimals only."),null;if(!1===await at(r)){const e=qa(u,g);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+b.units.fromQa(e,b.units.Units.Zil)+" ZIL."),null}const e=Ua(a),t=(e=>{if(!e)return 0;return new Ma(e).times(10**7)})(v);f();let n={toAddr:e,amount:new Kt(0),code:"",data:JSON.stringify({_tag:i.l.UPDATE_COMM,params:[{vname:"new_rate",type:"Uint128",value:""+t}]}),gasPrice:u,gasLimit:g};R(i.j.PENDING),et(c),Object(Pt.trackPromise)(T.sign(c,n,s).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):k(e)}).finally(()=>{R("")}))}},"Update")))))))};const Qt=t(4),{BN:Jt,units:Xt}=t(17);var $t=function(e){const a=st(e=>e.blockchain.proxy),t=st(e=>e.blockchain.blockchain),r=st(e=>e.user.ledger_index),s=st(e=>e.user.account_type),c=st(e=>e.staking.min_deleg_stake),o=st(e=>e.user.balance),d=Xt.fromQa(new Jt(c),Xt.Units.Zil),m=T.getDefaultGasPrice(),u=T.getDefaultGasLimit(),[p,b]=Object(n.useState)(m),[g,w]=Object(n.useState)(u),[_,f]=Object(n.useState)(!1),{updateData:N,updateRecentTransactions:y}=e,A=st(e=>e.user.stake_modal_data),v=A.ssnAddress,[S,O]=Object(n.useState)("0"),[k,C]=Object(n.useState)(""),[R,L]=Object(n.useState)(""),P=Object(n.useCallback)(()=>{O(c?Xt.fromQa(new Jt(c),Xt.Units.Zil).toString():"0")},[c]),I=()=>{k&&(y(i.o.DELEGATE_STAKE,k),N()),E.b.dismiss(),setTimeout(()=>{P(),C(""),f(!1),b(m),w(u)},150)};return Object(n.useEffect)(()=>{P()},[P]),l.a.createElement("div",{id:"delegate-stake-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"delegateStakeModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},R?l.a.createElement(Mt,null):k?l.a.createElement(Ut,{txnId:k,networkURL:t,handleClose:I}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"delegateStakeModalLabel"},"Stake"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:I},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel mr-4"},l.a.createElement("h3",null,A.ssnName),l.a.createElement("span",null,A.ssnAddress)),l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Commission Rate"),l.a.createElement("span",null,Wa(A.commRate).toFixed(2),"%"))),l.a.createElement("div",{className:"modal-label mb-2"},l.a.createElement("strong",null,"Enter stake amount")),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control shadow-none",value:S,onChange:e=>{O(e.target.value)}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text pl-4 pr-3"},"ZIL"))),l.a.createElement("p",null,l.a.createElement("small",null,l.a.createElement("strong",null,"Available"),": ",l.a.createElement("strong",null,Fa(o.toString()))," ZIL")),l.a.createElement(Wt,{gasOption:_,gasPrice:p,gasLimit:g,setGasOption:f,onBlurGasPrice:()=>{(""===p||new Qt(p).lt(new Qt(m)))&&(b(m),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===g||new Qt(g).lt(50))&&w(u)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&b(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&w(a)}}),l.a.createElement("div",{className:"mb-4"},l.a.createElement("small",null,l.a.createElement("strong",null,"Notes")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("small",null,"Minimum staking amount is ",l.a.createElement("strong",null,d)," ZIL.")),l.a.createElement("li",null,l.a.createElement("small",null,"Please ensure you have at least ",l.a.createElement("strong",null,"100 ZIL")," after staking to pay for gas fees for future transactions such as withdrawal.")))),l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto shadow-none",onClick:async()=>{if(!v)return h("error","Invalid Node","Node address should be bech32 or checksum format."),null;let e="";if(!S)return h("error","Invalid Stake Amount","Stake amount shoud not be empty."),null;try{e=Ha(S);if(new Qt(e).isLessThan(c))return h("error","Invalid Stake Amount","Minimum stake amount is "+d+" ZIL."),null;const a=new Qt(p).multipliedBy(g),t=new Qt(e).plus(a),n=Xt.fromQa(new Jt(t.toString()),Xt.Units.Zil),l=new Qt(o).minus(e);if(!l.isGreaterThan(a))return h("error","Insufficient Balance","Your wallet balance is insufficient to pay for the staked amount and gas fees combined. Total amount required is "+n+" ZIL."),h("error","Gas Fee Estimation","Current gas fee is around "+Xt.fromQa(new Jt(a),Xt.Units.Zil)+" ZIL."),null}catch(m){return h("error","Invalid Stake Amount","Minimum stake amount is "+d+" ZIL."),null}const t=Ua(a),n=Ua(v).toLowerCase();let l={toAddr:t,amount:new Jt(""+e),code:"",data:JSON.stringify({_tag:i.l.DELEGATE_STAKE,params:[{vname:"ssnaddr",type:"ByStr20",value:""+n}]}),gasPrice:p,gasLimit:g};L(i.j.PENDING),et(s),Object(Pt.trackPromise)(T.sign(s,l,r).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):C(e)}).finally(()=>{L("")}))}},"Stake")))))))};const{BN:en,units:an}=t(17);function tn({columns:e,data:a,tableId:t,senderAddress:n,handleNodeSelect:r,hiddenColumns:s}){const{getTableProps:c,getTableBodyProps:o,headerGroups:i,rows:d,prepareRow:u}=Object(m.useTable)({columns:e,data:a,initialState:{hiddenColumns:s,sortBy:[{id:"name",desc:!1}]}},m.useSortBy);return l.a.createElement("table",Object.assign({id:t,className:"table table-responsive-md"},c()),l.a.createElement("thead",null,i.map(e=>l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>l.a.createElement("th",Object.assign({scope:"col"},e.getHeaderProps()),e.render("Header")))))),l.a.createElement("tbody",o(),d.map((e,a)=>(u(e),l.a.createElement("tr",Object.assign({},e.getRowProps(),{onClick:()=>r(e.original)}),e.original.address!==n&&e.cells.map(e=>l.a.createElement("td",e.getCellProps(),e.render("Cell"))))))))}var nn=function(e){const{updateData:a,updateRecentTransactions:t}=e,r=st(e=>e.blockchain.proxy),s=st(e=>e.blockchain.impl),c=st(e=>e.blockchain.blockchain),d=st(e=>e.user.address_base16),m=st(e=>e.user.ledger_index),u=st(e=>e.user.account_type),p=st(e=>e.staking.min_deleg_stake),b=st(e=>e.staking.ssn_dropdown_list),g=st(e=>e.user.stake_modal_data),w=an.fromQa(new en(p),an.Units.Zil),_=g.ssnAddress,[N,y]=Object(n.useState)(""),[A,v]=Object(n.useState)(""),[S,O]=Object(n.useState)("0"),[k,C]=Object(n.useState)(""),[R,L]=Object(n.useState)(""),[P,I]=Object(n.useState)(!1),x=T.getDefaultGasPrice(),D=T.getDefaultGasLimit(),[j,G]=Object(n.useState)(x),[M,B]=Object(n.useState)(D),[U,Z]=Object(n.useState)(!1),H=Object(n.useCallback)(()=>{if(g.delegAmt){const e=za(g.delegAmt);O(e)}else O("0")},[g.delegAmt]),W=()=>{k&&(t(i.o.TRANSFER_STAKE,k),a()),E.b.dismiss(),setTimeout(()=>{y(""),v(""),C(""),H(),I(!1),Z(!1),G(x),B(D)},150)},V=()=>{f(),I(!P)},q=Object(n.useMemo)(()=>[{Header:"name",accessor:"name"},{Header:"address",accessor:"address",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{"data-tip":e.original.address},$a(e.original.address)),l.a.createElement(o.a,{place:"bottom",type:"dark",effect:"float"}))},{Header:"Delegators",accessor:"delegNum"},{Header:"Stake Amount (ZIL)",accessor:"stakeAmt",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,Fa(e.original.stakeAmt)))},{Header:"Comm. Rate (%)",accessor:"commRate",Cell:({row:e})=>l.a.createElement("span",null,Wa(e.original.commRate).toFixed(2))}],[]);return Object(n.useEffect)(()=>{H()},[H]),l.a.createElement("div",{id:"redeleg-stake-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"redelegModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},R?l.a.createElement(Mt,null):k?l.a.createElement(Ut,{txnId:k,networkURL:c,handleClose:W}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"withdrawRewardModalLabel"},"Transfer Stake"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:W},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},!P&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("strong",null,"From")),l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel mr-4"},l.a.createElement("h3",null,g.ssnName),l.a.createElement("span",null,g.ssnAddress)),l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Current Deposit"),l.a.createElement("span",null,Fa(g.delegAmt)," ZIL"))),l.a.createElement("small",null,l.a.createElement("strong",null,"To")),!N&&l.a.createElement("button",{type:"button",className:"mb-4 btn btn-contract btn-block shadow-none",onClick:()=>V()},"Select a node"),N&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,A),l.a.createElement("span",null,N),l.a.createElement("button",{type:"button",className:"btn btn-change-node shadow-none",onClick:()=>V()},"Change"))),l.a.createElement("div",{className:"modal-label mb-2"},l.a.createElement("strong",null,"Enter transfer amount")),l.a.createElement("div",{className:"input-group mb-4"},l.a.createElement("input",{type:"text",className:"form-control shadow-none",value:S,onChange:e=>{O(e.target.value)}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text pl-4 pr-3"},"ZIL")))),l.a.createElement(Wt,{gasOption:U,gasPrice:j,gasLimit:M,setGasOption:Z,onBlurGasPrice:()=>{(""===j||new Fe.a(j).lt(new Fe.a(x)))&&(G(x),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===M||new Fe.a(M).lt(50))&&B(D)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&G(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&B(a)}}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mt-2 mx-auto shadow-none",onClick:async()=>{let e;if(!_||!N)return h("error","Invalid Node","Please select a node."),null;if(!S)return h("error","Invalid Transfer Amount","Transfer amount cannot be empty."),null;try{e=Ha(S)}catch(E){return h("error","Invalid Transfer Amount","Please check your transfer amount again."),null}if(!1===await at(d)){const e=qa(j,M);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+an.fromQa(e,an.Units.Zil)+" ZIL."),null}L(i.j.PENDING);if(await(async()=>{const e=Ua(_).toLowerCase(),a=await xa.getSmartContractSubState(s,"lastrewardcycle"),t=await xa.getSmartContractSubState(s,"last_buf_deposit_cycle_deleg",[d]);if(!nt(a))return!1;if(!nt(t))return!1;if(new en(await ma(s,e,d)).gt(new en(0)))return h("info","Unwithdrawn Rewards Found","Please withdraw the rewards before transferring."),!0;if(t.last_buf_deposit_cycle_deleg[d].hasOwnProperty(e)){const n=parseInt(t.last_buf_deposit_cycle_deleg[d][e]);if(parseInt(a.lastrewardcycle)<=n)return h("info","Buffered Deposits Found","Please wait for the next cycle before transferring."),!0}return!1})())return L(""),null;const a=Ua(r),t=Ua(_).toLowerCase(),n=Ua(N).toLowerCase(),l=g.delegAmt,c=new en(l).sub(new en(e));if(new en(e).gt(new en(l)))return h("info","Invalid Transfer Amount","You only have "+Fa(l)+" ZIL to transfer."),L(""),null;if(!c.isZero()&&c.lt(new en(p)))return h("info","Invalid Transfer Amount","Please leave at least "+w+" ZIL (min. stake amount) or transfer ALL."),L(""),null;let o={toAddr:a,amount:new en(0),code:"",data:JSON.stringify({_tag:i.l.REDELEGATE_STAKE,params:[{vname:"ssnaddr",type:"ByStr20",value:""+t},{vname:"to_ssn",type:"ByStr20",value:""+n},{vname:"amount",type:"Uint128",value:""+e}]}),gasPrice:j,gasLimit:M};et(u),Object(Pt.trackPromise)(T.sign(u,o,m).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):C(e)}).finally(()=>{L("")}))}},"Transfer Stake"))),P&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:"node-details-subheading mb-2"},"Select a node to transfer to"),l.a.createElement("div",{id:"transfer-stake-details",className:"text-center"},l.a.createElement(tn,{columns:q,data:b,senderAddress:g.ssnAddress,handleNodeSelect:e=>{y(e.address),v(e.name),V()},hiddenColumns:["address"]})),l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mt-4 mx-auto shadow-none",onClick:()=>V()},"Back"))))))))};const{BN:ln,units:rn}=t(17);var sn=function(e){const a=st(e=>e.blockchain.proxy),t=st(e=>e.blockchain.impl),r=st(e=>e.blockchain.blockchain),s=st(e=>e.user.address_base16),c=st(e=>e.user.address_base16),o=st(e=>e.user.ledger_index),d=st(e=>e.user.account_type),m=st(e=>e.staking.min_deleg_stake),u=rn.fromQa(new ln(m),rn.Units.Zil),p=st(e=>e.user.stake_modal_data),{updateData:b,updateRecentTransactions:g}=e,w=T.getDefaultGasPrice(),_=T.getDefaultGasLimit(),[N,y]=Object(n.useState)(w),[A,v]=Object(n.useState)(_),[S,O]=Object(n.useState)(!1),k=p.ssnAddress,[C,R]=Object(n.useState)("0"),[L,P]=Object(n.useState)(""),[I,x]=Object(n.useState)(""),D=Object(n.useCallback)(()=>{if(p.delegAmt){const e=za(p.delegAmt);R(e)}else R("0")},[p.delegAmt]),j=()=>{L&&(g(i.o.INITIATE_STAKE_WITHDRAW,L),b()),E.b.dismiss(),setTimeout(()=>{D(),P(""),O(!1),y(w),v(_)},150)};return Object(n.useEffect)(()=>{D()},[D]),l.a.createElement("div",{id:"withdraw-stake-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"withdrawStakeModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},I?l.a.createElement(Mt,null):L?l.a.createElement(Ut,{txnId:L,networkURL:r,handleClose:j}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"withdrawStakeModalLabel"},"Initiate Stake Withdrawal"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:j},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel mr-4"},l.a.createElement("h3",null,p.ssnName),l.a.createElement("span",null,p.ssnAddress)),l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Deposit"),l.a.createElement("span",null,Fa(p.delegAmt)," ZIL"))),l.a.createElement("div",{className:"modal-label mb-2"},l.a.createElement("strong",null,"Enter withdrawal amount")),l.a.createElement("div",{className:"input-group mb-4"},l.a.createElement("input",{type:"text",className:"form-control shadow-none",value:C,onChange:e=>{R(e.target.value)}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text pl-4 pr-3"},"ZIL"))),l.a.createElement(Wt,{gasOption:S,gasPrice:N,gasLimit:A,setGasOption:O,onBlurGasPrice:()=>{(""===N||new Fe.a(N).lt(new Fe.a(w)))&&(y(w),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===A||new Fe.a(A).lt(50))&&v(_)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&y(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&v(a)}}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto mt-2 shadow-none",onClick:async()=>{let e;if(!k)return h("error","Invalid Node","node address should be bech32 or checksum format."),null;if(!C)return h("error","Invalid Withdraw Amount","Withdraw amount cannot be empty."),null;try{e=Ha(C)}catch(g){return h("error","Invalid Withdraw Amount","Please check your withdraw amount again."),null}if(!1===await at(s)){const e=qa(N,A);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+rn.fromQa(e,rn.Units.Zil)+" ZIL."),null}x(i.j.PENDING);if(await(async()=>{const e=Ua(k).toLowerCase(),a=await xa.getSmartContractSubState(t,"lastrewardcycle"),n=await xa.getSmartContractSubState(t,"last_buf_deposit_cycle_deleg",[c]);if(!nt(a))return!1;if(!nt(n))return!1;const l=new ln(await ma(t,e,c));if(l.gt(new ln(0)))return f(),h("info","Unwithdrawn Rewards Found","Please withdraw the rewards before withdrawing the staked amount."),!0;if(n.last_buf_deposit_cycle_deleg[c].hasOwnProperty(e)){const t=parseInt(n.last_buf_deposit_cycle_deleg[c][e]);if(parseInt(a.lastrewardcycle)<=t)return h("info","Buffered Deposits Found","Please wait for the next cycle before withdrawing the staked amount."),!0}return!1})())return x(""),null;const n=Ua(a),l=Ua(k).toLowerCase(),r=p.delegAmt,E=new ln(r).sub(new ln(e));if(new ln(e).gt(new ln(r)))return h("info","Invalid Withdraw Amount","You only have "+Fa(r)+" ZIL to withdraw."),x(""),null;if(!E.isZero()&&E.lt(new ln(m)))return h("info","Invalid Withdraw Amount","Please leave at least "+u+" ZIL (min. stake amount) or withdraw ALL."),x(""),null;let b={toAddr:n,amount:new ln(0),code:"",data:JSON.stringify({_tag:i.l.WITHDRAW_STAKE_AMT,params:[{vname:"ssnaddr",type:"ByStr20",value:""+l},{vname:"amt",type:"Uint128",value:""+e}]}),gasPrice:N,gasLimit:A};et(d),Object(Pt.trackPromise)(T.sign(d,b,o).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):P(e)}).finally(()=>{x("")}))}},"Initiate")))))))};const cn=t(4),{BN:on}=t(17);var dn=function(e){const a=st(e=>e.blockchain.proxy),t=st(e=>e.blockchain.blockchain),r=st(e=>e.user.address_base16),s=st(e=>e.user.ledger_index),c=st(e=>e.user.account_type),{updateData:o,updateRecentTransactions:d}=e,m=st(e=>e.user.stake_modal_data),u=m.ssnAddress,[p,g]=Object(n.useState)(""),[w,_]=Object(n.useState)(""),f=T.getDefaultGasPrice(),N=T.getDefaultGasLimit(),[y,A]=Object(n.useState)(f),[v,S]=Object(n.useState)(N),[O,k]=Object(n.useState)(!1),C=()=>{p&&(d(i.o.CLAIM_REWARDS,p),o()),E.b.dismiss(),setTimeout(()=>{g(""),k(!1),A(f),S(N)},150)};return l.a.createElement("div",{id:"withdraw-reward-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"withdrawRewardModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},w?l.a.createElement(Mt,null):p?l.a.createElement(Ut,{txnId:p,networkURL:t,handleClose:C}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"withdrawRewardModalLabel"},"Claim Rewards"),l.a.createElement("button",{type:"button",className:"close btn shadow-none","data-dismiss":"modal","aria-label":"Close",onClick:C},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel mr-4"},l.a.createElement("h3",null,m.ssnName),l.a.createElement("span",null,m.ssnAddress)),l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Rewards"),l.a.createElement("span",null,new cn(m.rewards).isGreaterThanOrEqualTo(10**9)?Fa(m.rewards):za(m.rewards)," ZIL"))),l.a.createElement("div",{className:"mx-1"},l.a.createElement(Wt,{gasOption:O,gasPrice:y,gasLimit:v,setGasOption:k,onBlurGasPrice:()=>{(""===y||new cn(y).lt(new cn(f)))&&(A(f),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===v||new cn(v).lt(50))&&S(N)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&A(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&S(a)}})),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto shadow-none",onClick:async()=>{if(!u)return h("error","Invalid Node","Node address should be bech32 or checksum format"),null;if(!1===await at(r)){const e=qa(y,v);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+b.units.fromQa(e,b.units.Units.Zil)+" ZIL."),null}const e=Ua(a),t=Ua(u).toLowerCase();let n={toAddr:e,amount:new on(0),code:"",data:JSON.stringify({_tag:i.l.WITHDRAW_STAKE_REWARDS,params:[{vname:"ssnaddr",type:"ByStr20",value:""+t}]}),gasPrice:y,gasLimit:v};_(i.j.PENDING),et(c),Object(Pt.trackPromise)(T.sign(c,n,s).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):g(e)}).finally(()=>{_("")}))}},"Claim")))))))};const{BN:mn}=t(17);var un=function(e){const a=st(e=>e.blockchain.proxy),t=st(e=>e.blockchain.blockchain),r=st(e=>e.user.address_base16),s=st(e=>e.user.ledger_index),c=st(e=>e.user.account_type),{updateData:o,updateRecentTransactions:d}=e,[m,u]=Object(n.useState)(""),[p,g]=Object(n.useState)(""),w=T.getDefaultGasPrice(),_=T.getDefaultGasLimit(),[f,N]=Object(n.useState)(w),[y,A]=Object(n.useState)(_),[v,S]=Object(n.useState)(!1),O=()=>{m&&(d(i.o.COMPLETE_STAKE_WITHDRAW,m),o()),E.b.dismiss(),setTimeout(()=>{u(""),S(!1),N(w),A(_)},150)};return l.a.createElement("div",{id:"complete-withdrawal-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"completeWithdrawModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},p?l.a.createElement(Mt,null):m?l.a.createElement(Ut,{txnId:m,networkURL:t,handleClose:O}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"completeWithdrawModalLabel"},"Complete Stake Withdrawals"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:O},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",{className:"mb-4"},"Are you sure you wish to withdraw all your pending stakes?"),l.a.createElement(Wt,{gasOption:v,gasPrice:f,gasLimit:y,setGasOption:S,onBlurGasPrice:()=>{(""===f||new Fe.a(f).lt(new Fe.a(w)))&&(N(w),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},onBlurGasLimit:()=>{(""===y||new Fe.a(y).lt(50))&&A(_)},onGasPriceChange:e=>{let a=e.target.value;(""===a||Va(a))&&N(a)},onGasLimitChange:e=>{let a=e.target.value;(""===a||Va(a))&&A(a)}}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto",onClick:async()=>{if(!1===await at(r)){const e=qa(f,y);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+b.units.fromQa(e,b.units.Units.Zil)+" ZIL."),null}let e={toAddr:Ua(a),amount:new mn(0),code:"",data:JSON.stringify({_tag:i.l.COMPLETE_WITHDRAWAL,params:[]}),gasPrice:f,gasLimit:y};g(i.j.PENDING),et(c),Object(Pt.trackPromise)(T.sign(c,e,s).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):u(e)}).finally(()=>{g("")}))}},"Withdraw")))))))},En=t(46);var pn=function(e){return l.a.createElement("svg",{width:e.width,height:e.height,className:e.className,viewBox:"0 0 487 104",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.1 49.2V29.3C94.1 27.0987 93.2255 24.9876 91.6689 23.431C90.1124 21.8745 88.0013 21 85.8 21H83L83.6 18.8C83.8448 17.9661 83.9226 17.0921 83.8288 16.2281C83.735 15.3641 83.4715 14.5271 83.0533 13.7652C82.6352 13.0033 82.0708 12.3315 81.3923 11.7883C80.7139 11.2452 79.9349 10.8413 79.1 10.6L60.2 5.2C59.9904 5.12306 59.767 5.09084 59.5442 5.10543C59.3213 5.12001 59.104 5.18107 58.9062 5.28468C58.7085 5.38829 58.5345 5.53215 58.3957 5.70702C58.2568 5.88188 58.1561 6.08387 58.1 6.3C58.0035 6.73655 58.0729 7.1934 58.2947 7.58158C58.5165 7.96977 58.8749 8.26151 59.3 8.4L71.1 11.8C70.3869 13.2286 70.0157 14.8034 70.0157 16.4C70.0157 17.9966 70.3869 19.5714 71.1 21H36.3V7.9C36.3007 7.46593 36.1354 7.04802 35.8379 6.73194C35.5404 6.41585 35.1333 6.22553 34.7 6.2C34.2569 6.224 33.8383 6.41081 33.5246 6.72457C33.2108 7.03833 33.024 7.45693 33 7.9V21H27.4V7.9C27.4 7.44913 27.2209 7.01673 26.9021 6.69792C26.5833 6.37911 26.1509 6.2 25.7 6.2C25.2667 6.22553 24.8595 6.41585 24.562 6.73194C24.2645 7.04802 24.0992 7.46593 24.1 7.9V21H16.8V6.7C16.7996 5.81533 17.1441 4.96534 17.7602 4.33051C18.3764 3.69569 19.2157 3.32602 20.1 3.3H48.2C49.0843 3.32602 49.9236 3.69569 50.5398 4.33051C51.1559 4.96534 51.5004 5.81533 51.5 6.7V15.8C51.524 16.2431 51.7108 16.6617 52.0246 16.9754C52.3383 17.2892 52.7569 17.476 53.2 17.5C53.6333 17.4745 54.0404 17.2842 54.3379 16.9681C54.6354 16.652 54.8007 16.2341 54.8 15.8V6.7C54.8132 5.8249 54.6523 4.9559 54.3266 4.14357C54.0009 3.33124 53.5168 2.59181 52.9026 1.96832C52.2884 1.34482 51.5564 0.849704 50.749 0.511787C49.9417 0.17387 49.0752 -0.000100329 48.2 4.3408e-08H20.1C18.3404 0.0262652 16.6618 0.743734 15.4269 1.99739C14.1919 3.25105 13.4998 4.94024 13.5 6.7V21H8.29999C6.09869 21 3.98755 21.8745 2.431 23.431C0.874448 24.9876 0 27.0987 0 29.3V91.3C0 93.5013 0.874448 95.6124 2.431 97.169C3.98755 98.7255 6.09869 99.6 8.29999 99.6H85.8C88.0013 99.6 90.1124 98.7255 91.6689 97.169C93.2255 95.6124 94.1 93.5013 94.1 91.3V79.1C94.1 78.8899 94.0586 78.6818 93.9782 78.4877C93.8978 78.2936 93.7799 78.1172 93.6313 77.9686C93.4828 77.8201 93.3064 77.7022 93.1123 77.6218C92.9182 77.5414 92.7101 77.5 92.5 77.5C92.0659 77.4992 91.648 77.6646 91.3319 77.9621C91.0158 78.2596 90.8255 78.6667 90.8 79.1V91.3C90.8 92.6261 90.2732 93.8979 89.3355 94.8355C88.3978 95.7732 87.1261 96.3 85.8 96.3H8.29999C6.97391 96.3 5.70215 95.7732 4.76447 94.8355C3.82678 93.8979 3.29999 92.6261 3.29999 91.3V29.3C3.29999 27.9739 3.82678 26.7021 4.76447 25.7645C5.70215 24.8268 6.97391 24.3 8.29999 24.3H85.8C87.1261 24.3 88.3978 24.8268 89.3355 25.7645C90.2732 26.7021 90.8 27.9739 90.8 29.3V49.1H77.1C75.3402 49.0998 73.6511 49.792 72.3974 51.0269C71.1437 52.2618 70.4262 53.9404 70.4 55.7V64.9C70.4262 66.6596 71.1437 68.3382 72.3974 69.5731C73.6511 70.8081 75.3402 71.5002 77.1 71.5H93.1C93.9751 71.5133 94.8441 71.3523 95.6564 71.0266C96.4688 70.7009 97.2082 70.2168 97.8317 69.6026C98.4552 68.9884 98.9503 68.2564 99.2882 67.449C99.6261 66.6417 99.8001 65.7752 99.8 64.9V55.7C99.7704 54.1179 99.1819 52.5974 98.1386 51.4077C97.0953 50.218 95.6646 49.4359 94.1 49.2ZM74.4 12.7L78.2 13.8C79.0339 14.0542 79.7334 14.6281 80.1456 15.3963C80.5578 16.1645 80.6492 17.0646 80.4 17.9L79.5 21H75.1C74.0949 19.8817 73.4827 18.4658 73.3563 16.9675C73.23 15.4693 73.5964 13.9708 74.4 12.7ZM96.4 64.9C96.4 65.7752 96.0523 66.6146 95.4334 67.2335C94.8145 67.8523 93.9752 68.2 93.1 68.2H77.1C76.2248 68.2 75.3854 67.8523 74.7665 67.2335C74.1477 66.6146 73.8 65.7752 73.8 64.9V55.7C73.8 54.8248 74.1477 53.9854 74.7665 53.3665C75.3854 52.7477 76.2248 52.4 77.1 52.4H93.1C93.9752 52.4 94.8145 52.7477 95.4334 53.3665C96.0523 53.9854 96.4 54.8248 96.4 55.7V64.9ZM83.3 60.3C83.3007 60.7341 83.1354 61.152 82.838 61.4681C82.5405 61.7841 82.1333 61.9745 81.7 62H79.2C78.9768 62 78.7557 61.956 78.5494 61.8706C78.3432 61.7852 78.1558 61.6599 77.9979 61.5021C77.8401 61.3442 77.7148 61.1568 77.6294 60.9506C77.544 60.7443 77.5 60.5232 77.5 60.3C77.5 60.0768 77.544 59.8557 77.6294 59.6494C77.7148 59.4432 77.8401 59.2558 77.9979 59.0979C78.1558 58.9401 78.3432 58.8148 78.5494 58.7294C78.7557 58.644 78.9768 58.6 79.2 58.6H81.7C82.1333 58.6255 82.5405 58.8158 82.838 59.1319C83.1354 59.448 83.3007 59.8659 83.3 60.3ZM480.8 53.2V33.3C480.8 31.0987 479.926 28.9876 478.369 27.431C476.812 25.8745 474.701 25 472.5 25H469.7L470.3 22.8C470.545 21.9661 470.623 21.0921 470.529 20.2281C470.435 19.3641 470.171 18.5271 469.753 17.7652C469.335 17.0033 468.771 16.3315 468.092 15.7883C467.414 15.2452 466.635 14.8413 465.8 14.6L446.9 9.2C446.69 9.12306 446.467 9.09084 446.244 9.10543C446.021 9.12001 445.804 9.18107 445.606 9.28468C445.408 9.38829 445.235 9.53215 445.096 9.70702C444.957 9.88188 444.856 10.0839 444.8 10.3C444.703 10.7366 444.773 11.1934 444.995 11.5816C445.217 11.9698 445.575 12.2615 446 12.4L457.8 15.8C457.087 17.2286 456.716 18.8034 456.716 20.4C456.716 21.9966 457.087 23.5714 457.8 25H423V11.9C423.001 11.4659 422.835 11.048 422.538 10.7319C422.24 10.4158 421.833 10.2255 421.4 10.2C420.957 10.224 420.538 10.4108 420.225 10.7246C419.911 11.0383 419.724 11.4569 419.7 11.9V25H414.1V11.9C414.1 11.4491 413.921 11.0167 413.602 10.6979C413.283 10.3791 412.851 10.2 412.4 10.2C411.967 10.2255 411.56 10.4158 411.262 10.7319C410.965 11.048 410.799 11.4659 410.8 11.9V25H403.5V10.7C403.5 9.81532 403.844 8.96534 404.46 8.33051C405.076 7.69569 405.916 7.32602 406.8 7.3H434.9C435.784 7.32602 436.624 7.69569 437.24 8.33051C437.856 8.96534 438.2 9.81532 438.2 10.7V19.8C438.224 20.2431 438.411 20.6617 438.725 20.9754C439.038 21.2892 439.457 21.476 439.9 21.5C440.333 21.4745 440.74 21.2842 441.038 20.9681C441.335 20.652 441.501 20.2341 441.5 19.8V10.7C441.513 9.8249 441.352 8.9559 441.027 8.14357C440.701 7.33124 440.217 6.59181 439.603 5.96832C438.988 5.34482 438.256 4.8497 437.449 4.51179C436.642 4.17387 435.775 3.9999 434.9 4H406.8C405.04 4.02627 403.362 4.74373 402.127 5.99739C400.892 7.25105 400.2 8.94024 400.2 10.7V25H395C392.799 25 390.688 25.8745 389.131 27.431C387.574 28.9876 386.7 31.0987 386.7 33.3V95.3C386.7 97.5013 387.574 99.6124 389.131 101.169C390.688 102.726 392.799 103.6 395 103.6H472.5C474.701 103.6 476.812 102.726 478.369 101.169C479.926 99.6124 480.8 97.5013 480.8 95.3V83.1C480.8 82.8899 480.759 82.6818 480.678 82.4877C480.598 82.2936 480.48 82.1172 480.331 81.9686C480.183 81.8201 480.006 81.7022 479.812 81.6218C479.618 81.5414 479.41 81.5 479.2 81.5C478.766 81.4992 478.348 81.6646 478.032 81.9621C477.716 82.2596 477.526 82.6667 477.5 83.1V95.3C477.5 96.6261 476.973 97.8979 476.036 98.8355C475.098 99.7732 473.826 100.3 472.5 100.3H395C393.674 100.3 392.402 99.7732 391.464 98.8355C390.527 97.8979 390 96.6261 390 95.3V33.3C390 31.9739 390.527 30.7021 391.464 29.7645C392.402 28.8268 393.674 28.3 395 28.3H472.5C473.826 28.3 475.098 28.8268 476.036 29.7645C476.973 30.7021 477.5 31.9739 477.5 33.3V53.1H463.8C462.04 53.0998 460.351 53.792 459.097 55.0269C457.844 56.2618 457.126 57.9404 457.1 59.7V68.9C457.126 70.6596 457.844 72.3382 459.097 73.5731C460.351 74.8081 462.04 75.5002 463.8 75.5H479.8C480.675 75.5133 481.544 75.3523 482.356 75.0266C483.169 74.7009 483.908 74.2168 484.532 73.6026C485.155 72.9884 485.65 72.2564 485.988 71.449C486.326 70.6417 486.5 69.7752 486.5 68.9V59.7C486.47 58.1179 485.882 56.5974 484.839 55.4077C483.795 54.218 482.365 53.4359 480.8 53.2ZM461.1 16.7L464.9 17.8C465.734 18.0542 466.433 18.6281 466.846 19.3963C467.258 20.1645 467.349 21.0646 467.1 21.9L466.2 25H461.8C460.795 23.8817 460.183 22.4658 460.056 20.9675C459.93 19.4693 460.296 17.9708 461.1 16.7ZM483.1 68.9C483.1 69.7752 482.752 70.6146 482.133 71.2335C481.515 71.8523 480.675 72.2 479.8 72.2H463.8C462.925 72.2 462.085 71.8523 461.467 71.2335C460.848 70.6146 460.5 69.7752 460.5 68.9V59.7C460.5 58.8248 460.848 57.9854 461.467 57.3665C462.085 56.7477 462.925 56.4 463.8 56.4H479.8C480.675 56.4 481.515 56.7477 482.133 57.3665C482.752 57.9854 483.1 58.8248 483.1 59.7V68.9ZM470 64.3C470.001 64.7341 469.835 65.152 469.538 65.4681C469.24 65.7841 468.833 65.9745 468.4 66H465.9C465.677 66 465.456 65.956 465.249 65.8706C465.043 65.7852 464.856 65.6599 464.698 65.5021C464.54 65.3442 464.415 65.1568 464.329 64.9506C464.244 64.7443 464.2 64.5232 464.2 64.3C464.2 64.0768 464.244 63.8557 464.329 63.6494C464.415 63.4432 464.54 63.2558 464.698 63.0979C464.856 62.9401 465.043 62.8148 465.249 62.7294C465.456 62.644 465.677 62.6 465.9 62.6H468.4C468.833 62.6255 469.24 62.8158 469.538 63.1319C469.835 63.448 470.001 63.8659 470 64.3ZM124.2 66C126.685 66 128.7 63.9853 128.7 61.5C128.7 59.0147 126.685 57 124.2 57C121.715 57 119.7 59.0147 119.7 61.5C119.7 63.9853 121.715 66 124.2 66ZM162.7 61.5C162.7 63.9853 160.685 66 158.2 66C155.715 66 153.7 63.9853 153.7 61.5C153.7 59.0147 155.715 57 158.2 57C160.685 57 162.7 59.0147 162.7 61.5ZM187.2 66C189.685 66 191.7 63.9853 191.7 61.5C191.7 59.0147 189.685 57 187.2 57C184.715 57 182.7 59.0147 182.7 61.5C182.7 63.9853 184.715 66 187.2 66ZM243.7 48.5C244.528 48.5 245.2 49.1716 245.2 50V52.5H248.7C249.528 52.5 250.2 53.1716 250.2 54C250.2 54.8284 249.528 55.5 248.7 55.5H245.2V60H246.2C247.561 60 248.843 60.5801 249.771 61.5749C250.697 62.5661 251.2 63.8897 251.2 65.25C251.2 66.6103 250.697 67.9339 249.771 68.9251C248.843 69.9199 247.561 70.5 246.2 70.5H245.2V73C245.2 73.8284 244.528 74.5 243.7 74.5C242.872 74.5 242.2 73.8284 242.2 73V70.5H237.7C236.872 70.5 236.2 69.8284 236.2 69C236.2 68.1716 236.872 67.5 237.7 67.5H242.2V63H241.2C239.839 63 238.557 62.4199 237.629 61.4251C236.703 60.4339 236.2 59.1103 236.2 57.75C236.2 56.3897 236.703 55.0661 237.629 54.0749C238.557 53.0801 239.839 52.5 241.2 52.5H242.2V50C242.2 49.1716 242.872 48.5 243.7 48.5ZM242.2 55.5H241.2C240.704 55.5 240.206 55.71 239.822 56.1218C239.434 56.5371 239.2 57.1212 239.2 57.75C239.2 58.3788 239.434 58.9629 239.822 59.3782C240.206 59.79 240.704 60 241.2 60H242.2V55.5ZM245.2 63V67.5H246.2C246.696 67.5 247.194 67.2899 247.578 66.8782C247.966 66.4629 248.2 65.8789 248.2 65.25C248.2 64.6211 247.966 64.0371 247.578 63.6218C247.194 63.21 246.696 63 246.2 63H245.2ZM243.7 25.4617L213.7 42.7344V77.2656L243.7 94.5383L273.7 77.2656V42.7344L243.7 25.4617ZM276.7 41L243.7 22L210.7 41V79L243.7 98L276.7 79V41ZM300.2 68.1292L307.7 62.5L300.2 56.8708V68.1292ZM336.7 62.5L329.2 68.1292V56.8708L336.7 62.5ZM358.2 68.1292L365.7 62.5L358.2 56.8708V68.1292Z"}))};var hn=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.501 3.501 0 1 1 13 13.355z"}))};var bn=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M13 16.172l5.364-5.364 1.414 1.414L12 20l-7.778-7.778 1.414-1.414L11 16.172V4h2v12.172z"}))};var gn=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M16.757 3l-2 2H5v14h14V9.243l2-2V20a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12.757zm3.728-.9L21.9 3.516l-9.192 9.192-1.412.003-.002-1.417L20.485 2.1z"}))},wn=t(183),_n=t.n(wn),fn=t(184),Nn=t.n(fn),yn=t(185),An=t.n(yn),vn=t(186),Sn=t.n(vn),Tn=t(187),On=t.n(Tn),kn=t(188),Cn=t.n(kn);const{BN:Rn,validation:Ln}=t(17);var Pn=function(e){const{updateData:a,updateRecentTransactions:t}=e,r=st(e=>e.user.swap_deleg_modal_data),s=st(e=>e.blockchain.proxy),c=st(e=>e.blockchain.impl),d=st(e=>e.blockchain.blockchain),m=st(e=>e.user.address_base16),p=st(e=>e.user.account_type),g=st(e=>e.user.ledger_index),w=st(e=>e.user.address_bech32),_=st(e=>e.staking.ssn_list),f=Ua(s),[N,y]=Object(n.useState)(""),[A,v]=Object(n.useState)(""),[S,O]=Object(n.useState)(""),[k,C]=Object(n.useState)(""),[R,L]=Object(n.useState)(0),[P,I]=Object(n.useState)(""),[x,D]=Object(n.useState)(!1),[j,G]=Object(n.useState)(!1),[M,B]=Object(n.useState)(!1),[U,Z]=Object(n.useState)(!1),[H,W]=Object(n.useState)(!1),[V,q]=Object(n.useState)(!1),[F,z]=Object(n.useState)(0),K=T.getDefaultGasPrice(),Y=T.getDefaultGasLimit(),[Q,J]=Object(n.useState)(K),[X,$]=Object(n.useState)(Y),[ee,ae]=Object(n.useState)(!1),te=e=>!(!e||""===e||!Ln.isAddress(e)&&!Ln.isBech32(e)),ne=()=>{z(F-1)},le=()=>{z(F+1)},re=()=>{if(!te(N))return h("error","Invalid Address","Wallet address should be bech32 or checksum format."),null;B(!0)},se=()=>{if(S){let e;switch(k){case i.o.REQUEST_DELEG_SWAP.toString():e=i.o.REQUEST_DELEG_SWAP;break;case i.o.REVOKE_DELEG_SWAP.toString():e=i.o.REVOKE_DELEG_SWAP;break;case i.o.CONFIRM_DELEG_SWAP.toString():e=i.o.CONFIRM_DELEG_SWAP;break;case i.o.REJECT_DELEG_SWAP.toString():e=i.o.REJECT_DELEG_SWAP}t(e,S),a()}E.b.dismiss(),setTimeout(()=>{y(""),v(""),L(0),I(""),D(!1),O(""),C(""),G(!1),B(!1),Z(!1),W(!1),q(!1),z(0),ae(!1),J(K),$(Y)},150)},ce=()=>{G(!1),z(0)},oe=async(e,a)=>{if(!1===await at(m)){const e=qa(Q,X);return h("error","Insufficient Balance","Insufficient balance in wallet to pay for the gas fee."),h("error","Gas Fee Estimation","Current gas fee is around "+b.units.fromQa(e,b.units.Units.Zil)+" ZIL."),I(""),null}C(e.toString()),I(i.j.PENDING),et(p),Object(Pt.trackPromise)(T.sign(p,a,g).then(e=>{e===i.j.ERROR?h("error","Transaction Error","Please try again."):O(e)}).finally(()=>{I("")}))},ie=async(e="",a)=>{let t=Ua(a).toLowerCase(),n=$a(a),l=a===w?"Your wallet":"RequestSwap"===e?"The recipient":"The requestor";const r=await xa.getSmartContractSubState(c,"lastrewardcycle"),s=await xa.getSmartContractSubState(c,"last_buf_deposit_cycle_deleg",[t]),o=await xa.getSmartContractSubState(c,"deposit_amt_deleg",[t]),i=await xa.getSmartContractSubState(c,"buff_deposit_deleg",[t]);if(!nt(r))return!1;if(!nt(s))return!1;if(!nt(o))return!1;let d=o.deposit_amt_deleg[t];for(let m in d){if(new Rn(await ma(c,m,t)).gt(new Rn(0))){return h("info","Unwithdrawn Rewards Found",`${l} ${n} has unwithdrawn rewards. Please withdraw or wait until the user has withdrawn the rewards before continuing.`),!0}const e=parseInt(r.lastrewardcycle);if(s.last_buf_deposit_cycle_deleg[t].hasOwnProperty(m)){if(e<=parseInt(s.last_buf_deposit_cycle_deleg[t][m])){return h("info","Buffered Deposits Found",`${l} ${n} has buffered deposits. Please wait for the next cycle before continuing.`),!0}}let a=e-1;if(a>=0&&nt(i)&&i.buff_deposit_deleg[t].hasOwnProperty(m)&&i.buff_deposit_deleg[t][m].hasOwnProperty(a)){return h("info","Buffered Deposits Found",`${l} ${n} has buffered deposits. Please wait for the next cycle before continuing.`),!0}}return!1},de=()=>{(""===Q||new Fe.a(Q).lt(new Fe.a(K)))&&(J(K),h("Info","Minimum Gas Price Required","Gas price should not be lowered than default blockchain requirement."))},me=e=>{let a=e.target.value;(""===a||Va(a))&&J(a)},ue=()=>{(""===X||new Fe.a(X).lt(50))&&$(Y)},Ee=e=>{let a=e.target.value;(""===a||Va(a))&&$(a)};return Object(n.useEffect)(()=>{if(Tt("localStorage")){null===window.localStorage.getItem("show-swap-help")&&(G(!0),window.localStorage.setItem("show-swap-help",JSON.stringify(!1)))}},[]),l.a.createElement("div",{id:"swap-deleg-modal",className:"modal fade",tabIndex:-1,role:"dialog","aria-labelledby":"swapDelegModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"contract-calls-modal modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},P?l.a.createElement(Mt,null):S?l.a.createElement(Ut,{txnId:S,networkURL:d,handleClose:se}):j?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-header"},0===F?l.a.createElement("h5",{className:"modal-title",id:"swap-deleg-modal"},"What is this?"):1===F?l.a.createElement("h5",{className:"modal-title",id:"swap-deleg-modal"},"How do I transfer my stakes to another wallet?"):2===F?l.a.createElement("h5",{className:"modal-title",id:"swap-deleg-modal"},"How do I modify the recipient or revoke the request?"):3===F?l.a.createElement("h5",{className:"modal-title",id:"swap-deleg-modal"},"I received an incoming transfer request. What should I do with it?"):4===F?l.a.createElement("h5",{className:"modal-title",id:"swap-deleg-modal"},"I accepted a request. How do I know if it is successful?"):5===F?l.a.createElement("h5",{className:"modal-title",id:"swap-deleg-modal"},"Final Notes"):null,l.a.createElement("button",{type:"button",className:"close btn shadow-none","aria-label":"CloseTutorial",onClick:ce},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},0===F?l.a.createElement("div",{className:"div-fade text-center"},l.a.createElement(pn,{width:"400",className:"mb-4 icon-fill"}),l.a.createElement("p",null,"You can now transfer your stakes from one wallet to another!"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto shadow-none",onClick:()=>le()},"Continue")):1===F?l.a.createElement("div",null,l.a.createElement("p",null,'Under the "Change Stake Ownership" tab, enter the recipient wallet address.'),l.a.createElement("div",{className:"d-flex mb-4"},l.a.createElement("img",{className:"mx-auto img-fluid",src:_n.a,alt:"change_ownership"})),l.a.createElement("p",null,"Wait for the transaction to be processed on the blockchain."),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>ne()},"Prev"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>le()},"Next")))):2===F?l.a.createElement("div",null,l.a.createElement("p",null,"After setting a recipient, should you change your mind, you may edit the recipient to another address or revoke the request entirely."),l.a.createElement("div",{className:"d-flex mb-4"},l.a.createElement("img",{className:"mx-auto img-fluid",src:Nn.a,alt:"edit_revoke_request"})),l.a.createElement("p",null,"This can only be done if the recipient has not accepted your request."),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>ne()},"Prev"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>le()},"Next")))):3===F?l.a.createElement("div",null,l.a.createElement("p",null,'Under the "Incoming Requests", if you are the ',l.a.createElement("strong",null,"recipient"),", you will see the list of wallet addresses / users who wish to transfer their stakes to you."),l.a.createElement("div",{className:"d-flex mb-4"},l.a.createElement("img",{className:"mx-auto img-fluid",src:An.a,alt:"incoming_requests"})),l.a.createElement("p",null,"If you ",l.a.createElement("strong",null,"accept")," the requests, all the stakes would be transferred from the requestors' wallet to you."),l.a.createElement("p",null,"If you ",l.a.createElement("strong",null,"reject")," the requests, nothing would happen and the requestor has to send a new request if he or she wishes to transfer the stakes to you."),l.a.createElement("p",null,"Please wait for the transaction to be processed completely on the blockchain before accepting or rejecting another request."),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>ne()},"Prev"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>le()},"Next")))):4===F?l.a.createElement("div",null,l.a.createElement("p",null,"If you are the ",l.a.createElement("strong",null,"recipient"),", you should see a transaction ID after accepting the request as shown below."),l.a.createElement("div",{className:"d-flex mb-4"},l.a.createElement("img",{className:"mx-auto img-fluid",src:Sn.a,alt:"txn_id"})),l.a.createElement("p",null,"Click on the transaction ID and it would bring you to ViewBlock."),l.a.createElement("p",null,"Refresh the ViewBlock page once every few minutes; the transaction should be successful in less than 10 minutes."),l.a.createElement("p",null,"Head back to ",l.a.createElement("strong",null,"Zillion Dashboard")," and hit the manual refresh button."),l.a.createElement("div",{className:"d-flex mb-4"},l.a.createElement("img",{className:"mx-auto img-fluid",src:On.a,alt:"manual_refresh"})),l.a.createElement("p",null,"You should observe the new amounts under ",l.a.createElement("strong",null,"My Staking Portfolio"),"."),l.a.createElement("div",{className:"d-flex mb-4"},l.a.createElement("img",{className:"mx-auto img-fluid",src:Cn.a,alt:"dashboard_staking_portfolio"})),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>ne()},"Prev"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>le()},"Next")))):5===F?l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",{className:"mb-3"},l.a.createElement("strong",null,"Once the recipient has accepted a request, Zilliqa is not able to undo the transfer process.")),l.a.createElement("li",{className:"mb-3"},"Beware of scams! Do not send a transfer request if you are unsure of who the recipient is!"),l.a.createElement("li",{className:"mb-3"},"Do not enter any node operator's address."),l.a.createElement("li",{className:"mb-3"},"If you are a recipient, once you accept the transfer request, all the stakes would be transferred to your wallet. If the requestor has staked on the same node operator as you, the amount would be tabulated together."),l.a.createElement("li",{className:"mb-3"},"If you are a requestor, please check the recipient address carefully before sending the request. The transfer request is ",l.a.createElement("strong",null,"irreversible")," once the recipient has accepted."),l.a.createElement("li",null,"Ensure that you have no buffered deposits or unwithdrawn rewards before sending a transfer request or accepting a transfer. This is to facilitate the stakes tabulation when the recipient chooses to accept the request.")),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>ne()},"Prev"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>ce()},"Got It!")))):null)):M?l.a.createElement("div",{className:"modal-body animate__animated animate__fadeIn"},l.a.createElement("h5",{className:"modal-title mb-4"},"Send Request Confirmation"),l.a.createElement("p",null,"Are you sure you want to transfer ",l.a.createElement("strong",null,l.a.createElement("u",null,"ALL"))," your stakes to this address?"),l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Target Recipient"),l.a.createElement("span",null,N))),l.a.createElement(Wt,{gasOption:ee,gasPrice:Q,gasLimit:X,setGasOption:ae,onBlurGasPrice:de,onBlurGasLimit:ue,onGasPriceChange:me,onGasLimitChange:Ee}),l.a.createElement("div",{className:"mb-4"},l.a.createElement("small",null,l.a.createElement("strong",null,"Notes")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("small",null,"By clicking on ",l.a.createElement("em",null,"'Yes'"),", you are sending a request to transfer all your existing stakes to this address.")),l.a.createElement("li",null,l.a.createElement("small",null,"Beware of scams! Ensure that you know who the recipient is before sending the request.")),l.a.createElement("li",null,l.a.createElement("small",null,"Process is ",l.a.createElement("strong",null,"irreversible")," once the recipient has accepted your request.")))),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>B(!1)},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:async()=>{if(!te(N))return h("error","Invalid Address","Wallet address should be bech32 or checksum format."),null;if(!(e=>{if(w===e)return h("error","Invalid New Owner","Please enter another wallet address other than the connected wallet."),!1;let a=Object(u.fromBech32Address)(e).toLowerCase();if(r.requestorList.includes(a)){let a=`There is an existing request from ${$a(e)}. Please accept or reject the incoming request first.`;return h("error","Invalid New Owner",a),!1}return!0})(N))return null;I(i.j.PENDING);const e=await(async e=>{let a=Object(u.fromBech32Address)(e).toLowerCase();const t=await xa.getSmartContractSubState(c,"deposit_amt_deleg",[a]);return!!nt(t)})(w),a=await(async e=>{let a=Object(u.fromBech32Address)(e).toLowerCase();const t=await xa.getSmartContractSubState(c,"withdrawal_pending",[a]);return!!nt(t)})(w);if(!e&&!a)return I(""),h("info","User Has No Stake","You have not staked with any operators."),null;if(await ie("RequestSwap",w))return I(""),null;if(await ie("RequestSwap",N))return I(""),null;let t={toAddr:f,amount:new Rn(0),code:"",data:JSON.stringify({_tag:i.l.REQUEST_DELEG_SWAP,params:[{vname:"new_deleg_addr",type:"ByStr20",value:""+Object(u.fromBech32Address)(N)}]}),gasPrice:Q,gasLimit:X};await oe(i.o.REQUEST_DELEG_SWAP,t)}},"Yes")))):U?l.a.createElement("div",{className:"modal-body animate__animated animate__fadeIn"},l.a.createElement("h5",{className:"modal-title mb-4"},"Revoke Confirmation"),l.a.createElement("p",null,"Are you sure you want to revoke the existing transfer ownership request?"),l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Pending New Owner To Accept"),l.a.createElement("span",null,Za(r.swapRecipientAddress)))),l.a.createElement("div",{className:"mx-1"},l.a.createElement(Wt,{gasOption:ee,gasPrice:Q,gasLimit:X,setGasOption:ae,onBlurGasPrice:de,onBlurGasLimit:ue,onGasPriceChange:me,onGasLimitChange:Ee})),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>Z(!1)},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:async()=>{let e={toAddr:f,amount:new Rn(0),code:"",data:JSON.stringify({_tag:i.l.REVOKE_DELEG_SWAP,params:[]}),gasPrice:Q,gasLimit:X};await oe(i.o.REVOKE_DELEG_SWAP,e)}},"Yes")))):V?l.a.createElement("div",{className:"modal-body animate__animated animate__fadeIn"},l.a.createElement("h5",{className:"modal-title mb-4"},"Reject Confirmation"),l.a.createElement("p",null,"Are you sure you wish to ",l.a.createElement("u",null,l.a.createElement("em",null,"reject"))," the transfer request?"),l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Requestor's Wallet"),l.a.createElement("span",null,Za(A)),l.a.createElement("a",{href:Xa(Za(A)),target:"_blank",rel:"noopener noreferrer","data-tip":!0,"data-for":"explorer-tip"},l.a.createElement(gn,{width:"16",height:"16",className:"zillion-explorer-link"})),l.a.createElement(o.a,{id:"explorer-tip",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"View Wallet on Zillion Explorer")))),l.a.createElement("div",{className:"mx-1"},l.a.createElement(Wt,{gasOption:ee,gasPrice:Q,gasLimit:X,setGasOption:ae,onBlurGasPrice:de,onBlurGasLimit:ue,onGasPriceChange:me,onGasLimitChange:Ee})),l.a.createElement("div",{className:"mb-4"},l.a.createElement("small",null,l.a.createElement("strong",null,"Notes")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("small",null,"By clicking on ",l.a.createElement("em",null,"'Yes'"),", you are rejecting the transfer request and would not receive the stakes from the requestor's wallet.")))),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>q(!1)},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>(async e=>{let a={toAddr:f,amount:new Rn(0),code:"",data:JSON.stringify({_tag:i.l.REJECT_DELEG_SWAP,params:[{vname:"requestor",type:"ByStr20",value:""+e}]}),gasPrice:Q,gasLimit:X};await oe(i.o.REJECT_DELEG_SWAP,a)})(A)},"Yes")))):H?l.a.createElement("div",{className:"modal-body animate__animated animate__fadeIn"},l.a.createElement("h5",{className:"modal-title mb-4"},"Accept Confirmation"),l.a.createElement("p",null,"Are you sure you wish to ",l.a.createElement("u",null,l.a.createElement("em",null,"accept"))," all the stakes from this wallet?"),l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Requestor's Wallet"),l.a.createElement("span",null,Za(A)),l.a.createElement("a",{href:Xa(Za(A)),target:"_blank",rel:"noopener noreferrer","data-tip":!0,"data-for":"explorer-tip"},l.a.createElement(gn,{width:"16",height:"16",className:"zillion-explorer-link"})),l.a.createElement(o.a,{id:"explorer-tip",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"View Wallet on Zillion Explorer")))),l.a.createElement("div",{className:"mx-1"},l.a.createElement(Wt,{gasOption:ee,gasPrice:Q,gasLimit:X,setGasOption:ae,onBlurGasPrice:de,onBlurGasLimit:ue,onGasPriceChange:me,onGasLimitChange:Ee})),l.a.createElement("div",{className:"mb-4"},l.a.createElement("small",null,l.a.createElement("strong",null,"Notes")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("small",null,"By clicking on ",l.a.createElement("em",null,"'Yes'"),", all the stakes are transferred from the requestor's wallet to your wallet.")),l.a.createElement("li",null,l.a.createElement("small",null,"This transfer process is ",l.a.createElement("strong",null,"irreversible."))))),l.a.createElement("div",{className:"d-flex mt-4"},l.a.createElement("div",{className:"mx-auto"},l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>W(!1)},"Cancel"),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>(async e=>{I(i.j.PENDING);if(await ie("ConfirmSwap",e))return I(""),null;if(await ie("ConfirmSwap",w))return I(""),null;let a={toAddr:f,amount:new Rn(0),code:"",data:JSON.stringify({_tag:i.l.CONFIRM_DELEG_SWAP,params:[{vname:"requestor",type:"ByStr20",value:""+e}]}),gasPrice:Q,gasLimit:X};await oe(i.o.CONFIRM_DELEG_SWAP,a)})(A)},"Yes")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{type:"button",className:"btn btn-notify-dropdown btn-theme ml-auto mt-1 mr-2","aria-label":"Help","data-tip":!0,"data-for":"tutorial-tip",onClick:()=>G(!0)},l.a.createElement(hn,{width:"22",height:"22"})),l.a.createElement("button",{type:"button",className:"close btn shadow-none mx-2 mt-2","data-dismiss":"modal","aria-label":"Close",onClick:se},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")),l.a.createElement(o.a,{id:"tutorial-tip",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("strong",null,"Help"))),l.a.createElement(En.d,{selectedIndex:R,onSelect:e=>(e=>{L(e),ae(!1),J(K),$(Y)})(e)},l.a.createElement(En.b,null,l.a.createElement(En.a,null,"Change Stake Ownership ",r.swapRecipientAddress?l.a.createElement("span",null,"(1)"):null),l.a.createElement(En.a,null,"Incoming Requests ",r.requestorList.length>0?l.a.createElement("span",null,"(",r.requestorList.length,")"):null)),l.a.createElement(En.c,null,l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",{className:"mb-4"},"Transfer ",l.a.createElement("strong",null,"ALL")," your existing stakes from one wallet to another by entering a new owner address."),r.swapRecipientAddress?l.a.createElement("div",{className:"row node-details-wrapper mb-4"},l.a.createElement("div",{className:"col node-details-panel"},l.a.createElement("h3",null,"Pending New Owner To Accept"),l.a.createElement("span",null,w," (Connected Wallet)"),l.a.createElement("br",null),l.a.createElement(bn,{width:"16",height:"16",className:"swap-icon mt-2 mb-2"}),l.a.createElement("br",null),l.a.createElement("span",null,Za(r.swapRecipientAddress)," (New Owner)"))):null,x||!r.swapRecipientAddress?l.a.createElement("div",{className:"edit-swap-addr"},l.a.createElement("div",{className:"modal-label mb-2"},l.a.createElement("strong",null,"Enter new owner address"),l.a.createElement("br",null),"(in bech32 format e.g. zil1xxxxxxxxxxxxx)"),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control shadow-none",value:N,onChange:e=>{let a=e.target.value;a&&null!==a?a&&(Ln.isAddress(a)||Ln.isBech32(a))&&(a=Object(u.toBech32Address)(Ua(a)),(e=>{for(let a of _)if(e===a.address)return!0;return!1})(a)&&(h("error","Invalid Address",'Do not enter a node address. If you want to transfer your stake from one node to another node, go to "Staking Portfolio" > "Manage" > "Transfer Stake" '),a="")):a="",y(a)}}))):null,l.a.createElement("div",{className:"edit-swap-notes"},l.a.createElement("small",null,l.a.createElement("strong",null,"Notes")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("small",null,"Beware of scams! Ensure that you know who the recipient is before sending the request.")),l.a.createElement("li",null,l.a.createElement("small",null,"Process is ",l.a.createElement("strong",null,"irreversible")," once the recipient has accepted your request."))),l.a.createElement("p",null)),l.a.createElement("div",{className:"d-flex mt-4"},r.swapRecipientAddress?l.a.createElement("div",{className:"mx-auto"},x?l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>re()},"Send Request"):l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2 shadow-none",onClick:()=>D(!0)},"Edit Request"),l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mx-2 shadow-none",onClick:()=>(D(!1),void Z(!0))},"Revoke Request")):l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-auto shadow-none",onClick:()=>re()},"Send Request")))),l.a.createElement(En.c,null,0===r.requestorList.length?l.a.createElement("div",{className:"swap-deleg-requestor-list m-4"},l.a.createElement("p",null,"You have no incoming requests.")):l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"p-3 list-unstyled swap-deleg-requestor-list"},r.requestorList.map((e,a)=>l.a.createElement("li",{key:a},l.a.createElement("div",{className:"flex mb-2"},l.a.createElement("span",null,Za(e)),l.a.createElement("a",{href:Xa(Za(e)),target:"_blank",rel:"noopener noreferrer","data-tip":!0,"data-for":"explorer-tip2"},l.a.createElement(gn,{width:"16",height:"16",className:"zillion-explorer-link"})),l.a.createElement("div",{className:"float-right btn-contract-group"},l.a.createElement("button",{type:"button",className:"btn btn-contract-small shadow-none mx-2",onClick:()=>(v(e),void W(!0))},"Accept"),l.a.createElement("button",{type:"button",className:"btn btn-contract-small-cancel shadow-none mx-2",onClick:()=>(v(e),void q(!0))},"Reject")))))),l.a.createElement(o.a,{id:"explorer-tip2",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"View Wallet on Zillion Explorer")))))))))},In=t(189),xn=t.n(In);var Dn=function(e){const a=st(e=>e.user.deleg_stats),t=st(e=>e.user.is_deleg_stats_loading),n=st(e=>e.staking.reward_blk_countdown);return l.a.createElement(l.a.Fragment,null,t===i.j.PENDING&&l.a.createElement(ct,{class:"spinner-border dashboard-spinner mb-4"}),t===i.j.COMPLETE&&l.a.createElement("div",{className:"row px-2 pb-3 align-items-center justify-content-center"},l.a.createElement("div",{className:"d-block deleg-stats-card"},l.a.createElement("h3",null,"EST. Realtime APR"),l.a.createElement("span",null,a.globalAPY,"%")),l.a.createElement("div",{className:"d-block deleg-stats-card"},l.a.createElement("h3",null,"Total Deposits"),l.a.createElement("span",null,Fa(a.totalDeposits))),l.a.createElement("div",{className:"d-block deleg-stats-card"},l.a.createElement("h3",null,"Blocks Until Rewards"),l.a.createElement("span",null,n)),l.a.createElement("div",{className:"w-100"}),l.a.createElement("div",{className:"d-block deleg-stats-card"},l.a.createElement("h3",null,"GZIL Balance"),l.a.createElement("span",null,Ka(a.gzilBalance))),l.a.createElement("div",{className:"d-block deleg-stats-card"},l.a.createElement("h3",null,"Unclaimed ZIL Rewards"),l.a.createElement("span",null,Fa(a.zilRewards))),l.a.createElement("div",{className:"d-block deleg-stats-card"})))};var jn=function(e){const a=st(e=>e.user.operator_stats),t=st(e=>e.user.is_operator_stats_loading);return l.a.createElement(l.a.Fragment,null,t===i.j.PENDING&&l.a.createElement(ct,{class:"spinner-border dashboard-spinner mb-4"}),t===i.j.COMPLETE&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row px-2 align-items-center justify-content-center"},l.a.createElement("div",{className:"d-block operator-stats-card"},l.a.createElement("h3",null,"Stake Amount"),l.a.createElement("span",null,Fa(a.stakeAmt))),l.a.createElement("div",{className:"d-block operator-stats-card"},l.a.createElement("h3",null,"Buffered Deposit"),l.a.createElement("span",null,Fa(a.bufferedDeposits))),l.a.createElement("div",{className:"d-block operator-stats-card"},l.a.createElement("h3",null,"Delegators"),l.a.createElement("span",null,a.delegNum))),l.a.createElement("div",{className:"row px-2 pb-2 align-items-center justify-content-center"},l.a.createElement("div",{className:"d-block operator-stats-card"},l.a.createElement("h3",null,"Commission Rate"),l.a.createElement("span",null,Wa(a.commRate).toFixed(2),"%")),l.a.createElement("div",{className:"d-block operator-stats-card"},l.a.createElement("h3",null,"Commission Rewards"),l.a.createElement("span",null,Fa(a.commReward))),l.a.createElement("div",{className:"d-block operator-stats-card"}))))};var Gn=e=>{const{promiseInProgress:a}=Object(Pt.usePromiseTracker)({area:e.area,delay:0});return a?l.a.createElement("div",{className:e.class?e.class:"spinner-border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")):null};function Mn({columns:e,data:a,tableId:t}){const{getTableProps:n,getTableBodyProps:r,headerGroups:s,rows:c,prepareRow:o}=Object(m.useTable)({columns:e,data:a,initialState:{sortBy:[{id:"blkNumCountdown",desc:!1}]}},m.useSortBy);return l.a.createElement("table",Object.assign({id:t,className:"table table-responsive-lg"},n()),l.a.createElement("thead",null,s.map(e=>l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>l.a.createElement("th",Object.assign({scope:"col"},e.getHeaderProps()),e.render("Header")))))),l.a.createElement("tbody",r(),c.map((e,a)=>(o(e),l.a.createElement("tr",e.getRowProps(),e.cells.map(e=>l.a.createElement("td",e.getCellProps(),e.render("Cell"))))))))}var Bn=function(e){const a=st(e=>e.user.pending_withdraw_list),t=st(e=>e.user.complete_withdrawal_amt),r=Object(n.useMemo)(()=>[{Header:"pending blocks till claim",accessor:"blkNumCountdown"},{Header:"progress",accessor:"progress",Cell:({row:e})=>l.a.createElement("span",null,e.original.progress,"%")},{Header:"amount (ZIL)",accessor:"amount",Cell:({row:e})=>l.a.createElement("span",null,Fa(e.original.amount))}],[]);return l.a.createElement(l.a.Fragment,null,0!==a.length&&l.a.createElement("div",{id:"delegator-complete-withdraw-details",className:"col-12 mt-2 px-1 py-3"},l.a.createElement("div",{id:"complete-withdraw-accordion"},l.a.createElement("div",{className:"card text-center"},l.a.createElement("h6",{className:"inner-section-heading px-4 pt-4"},"Pending Stake Withdrawals\xa0",l.a.createElement("span",{"data-tip":!0,"data-for":"withdraw-question"},l.a.createElement(hn,{width:"16",height:"16",className:"section-icon"}))),l.a.createElement("div",{className:"text-center"},l.a.createElement(Gn,{class:"spinner-border dashboard-spinner mb-4",area:i.k.PROMISE_GET_DELEG_STATS})),l.a.createElement("div",{className:"card-header d-flex justify-content-between",id:"complete-withdraw-accordion-header"},l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("em",null,"You can now withdraw ",l.a.createElement("strong",null,Fa(t))," ZIL"))),l.a.createElement("div",{className:"btn-group"},0!==a.length&&l.a.createElement("button",{className:"btn btn-inner-contract mr-4 shadow-none","data-toggle":"modal","data-target":"#complete-withdrawal-modal","data-keyboard":"false","data-backdrop":"static",disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Complete Stake Withdrawals"),0!==a.length&&l.a.createElement("button",{className:"btn btn-inner-contract-2 mr-4 shadow-none","data-toggle":"collapse","data-target":"#complete-withdraw-details","aria-expanded":"true","aria-controls":"complete-withdraw-details"},"View Details"))),l.a.createElement("div",{id:"complete-withdraw-details",className:"collapse","aria-labelledby":"complete-withdraw-accordion-header","data-parent":"#complete-withdraw-accordion"},l.a.createElement("div",{className:"card-body"},0===a.length&&l.a.createElement("em",null,"You have no ZILs ready for withdrawal yet."),l.a.createElement(Mn,{columns:r,data:a}))))),l.a.createElement(o.a,{id:"withdraw-question",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"When you initiate a stake withdrawal, the amount is not withdrawn immediately."),l.a.createElement("br",null),l.a.createElement("span",null,"The amount is processed at a certain block number and only available to withdraw",l.a.createElement("br",null),"once the required block number is reached."))))};var Un=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.a.createElement("path",{d:"M18 17.883V16l5 3-5 3v-2.09a9 9 0 0 1-6.997-5.365L11 14.54l-.003.006A9 9 0 0 1 2.725 20H2v-2h.725a7 7 0 0 0 6.434-4.243L9.912 12l-.753-1.757A7 7 0 0 0 2.725 6H2V4h.725a9 9 0 0 1 8.272 5.455L11 9.46l.003-.006A9 9 0 0 1 18 4.09V2l5 3-5 3V6.117a7 7 0 0 0-5.159 4.126L12.088 12l.753 1.757A7 7 0 0 0 18 17.883z"}))};var Zn=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className},l.a.createElement("g",{"data-name":"Layer 2"},l.a.createElement("g",{"data-name":"refresh"},l.a.createElement("rect",{width:"24",height:"24",opacity:"0"}),l.a.createElement("path",{d:"M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"}))))};var Hn=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,className:e.className,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),l.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))};var Wn=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width,height:e.height,className:e.className,fill:"none",stroke:"currentColor",strokeWidth:"0",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("circle",{cx:"12",cy:"12",r:"10"}))};var Vn=function(e){const a=e.data,t=e.networkURL;return l.a.createElement("div",{id:"txn-notify-dropdown"},l.a.createElement("div",{className:"notification"},l.a.createElement("div",{className:"notification-heading"},l.a.createElement("h2",null,"Recent Transactions")),l.a.createElement("div",{className:"notification-wrapper"},0===a.length&&l.a.createElement("p",null,l.a.createElement("em",null,"No recent transactions found.")),a.map((e,a)=>l.a.createElement("div",{key:e.txnId?e.txnId:a},0===a&&l.a.createElement("h3",{className:"notification-subheading"},"Latest"),1===a&&l.a.createElement("h3",{className:"notification-subheading"},"Others"),l.a.createElement("a",{href:Qa(e.txnId,t),className:"notification-item-link",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("div",{className:"notification-item"},l.a.createElement("h3",{className:"item-title"},(e=>{switch(e){case i.o.CLAIM_REWARDS:return"Claim Rewards";case i.o.COMPLETE_STAKE_WITHDRAW:return"Complete Stake Withdrawal";case i.o.DELEGATE_STAKE:return"Delegate Stake";case i.o.INITIATE_STAKE_WITHDRAW:return"Initiate Stake Withdrawal";case i.o.TRANSFER_STAKE:return"Transfer Stake";case i.o.UPDATE_COMM_RATE:return"Update Commission Rate";case i.o.UPDATE_RECV_ADDR:return"Update Receiving Address";case i.o.WITHDRAW_COMM:return"Withdraw Commission";case i.o.REQUEST_DELEG_SWAP:return"Request Delegator Swap";case i.o.REVOKE_DELEG_SWAP:return"Revoke Delegator Swap";case i.o.CONFIRM_DELEG_SWAP:return"Accept Swap Request";case i.o.REJECT_DELEG_SWAP:return"Reject Swap Request";default:return"Error"}})(e.type)),l.a.createElement("p",{className:"item-info"},l.a.createElement("strong",null,"Transaction ID"),l.a.createElement("br",null),l.a.createElement("span",{className:"txn-id"},e.txnId?e.txnId:"N/A")))))))))},qn=t(190);t(340),t(341);var Fn=function(e){const a=P();return l.a.createElement("div",{id:"banner",className:"mb-4 text-center"},a===i.e.PROD?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"px-3 py-3"},l.a.createElement("div",null,l.a.createElement("strong",null,"Important"),": Please note that gZIL minting has concluded as of ",l.a.createElement("span",{className:"final-gzil-mint-block ml-2"},"Block 1483713"),". ",l.a.createElement("span",{className:"mx-2"},"No further gZIL will be minted.")," The Zilliqa staking program will still continue to distribute ZIL for staking rewards.")),"true"===i.d.IS_PAUSED.toString()&&l.a.createElement("div",{className:"px-3 pt-3 py-3"},l.a.createElement("strong",null,"Attention"),": We have noticed an issue with the staking contract which is causing a slowdown of the Zilliqa network. ",l.a.createElement("br",null),"While we are investigating the issue and work on a fix, the staking contract has been paused for a week (starting from May 21, 2021).",l.a.createElement("br",null),"Once the staking contract is unpaused, any missed rewards for the paused period will be retroactively disbursed.",l.a.createElement("br",null),"All funds are SAFU and we apologize for your inconvenience. ")):null)};var zn=function(e){const a=rt(),t=st(e=>e.user),r=st(e=>e.user.is_deleg_stats_loading),s=st(e=>e.blockchain),c=P(),m=R,p=st(e=>e.blockchain.proxy),b=st(e=>e.blockchain.blockchain),[g,w]=Object(n.useState)(t.address_base16||""),[_,N]=Object(n.useState)(s.blockchain||""),[y,A]=Object(n.useState)(!1),[v,S]=Object(n.useState)(!1),[O,k]=Object(n.useState)(!1),[C,L]=Object(n.useState)([]),I=Ot(!0),x=(e,a)=>{let n=JSON.parse(JSON.stringify(C));n.length+1>10&&n.pop(),n=n.reverse(),n.push({type:e,txnId:a}),L([...n].reverse()),function(e,a,t,n,l){if(!Tt("localStorage"))return null;t=Ya(t);const r=window.localStorage.getItem(e);let s;const c=t+"-"+(a=null===a||""===a?"proxy":a.substring(0,10));if(null!==r){let e=JSON.parse(r);e.hasOwnProperty(c)&&n in e[c]?e[c][n]=l:e.hasOwnProperty(c)?(e={},e[c]={},e[c][n]=l):(e[c]={},e[c][n]=l),s=e}else s={},s[c]={},s[c][n]=l;window.localStorage.setItem(e,JSON.stringify(s))}(t.address_bech32,p,b,"recent-txn",n.reverse()),S(!0)};Object(n.useEffect)(()=>{let e=function(e,a,t,n,l){if(!Tt("localStorage"))return l;t=Ya(t);const r=window.localStorage.getItem(e),s=t+"-"+(a=null===a||""===a?"proxy":a.substring(0,10));if(null!==r){const e=JSON.parse(r);if(e.hasOwnProperty(s)&&n in e[s])return e[s][n]}return l}(t.address_bech32,p,b,"recent-txn",[]);L(e)},[t.address_bech32,p,b]);const D=async()=>{var e;console.log("polling data..."),A(!0),a(Y()),a(Oe()),await(e=i.c.MANUAL_REFRESH_DELAY,new Promise(a=>setTimeout(a,e))),A(!1)},j=e=>{let t;switch(e){case i.h.MAINNET:h("info","Info","You are on Mainnet."),t=i.h.MAINNET;break;case i.h.TESTNET:t=i.h.TESTNET,c===i.e.PROD&&h("warn","Testnet not supported","Please switch to Mainnet via ZilPay.");break;case i.h.ISOLATED_SERVER:case i.h.PRIVATE:t=i.h.ISOLATED_SERVER,c===i.e.PROD&&h("warn","Private network not supported","Please switch to Mainnet via ZilPay.");break;default:t=i.h.TESTNET}const n=m[t];a(ge({proxy:n.proxy||"",impl:n.impl||"",blockchain:n.blockchain||"",staking_viewer:n.node_status||"",api_list:n.api_list||[]}))};return Object(n.useEffect)(()=>{if(t.account_type===i.a.ZILPAY){const e=window.zilPay;if(e){j(e.wallet.net);const t=e.wallet.observableAccount().subscribe(e=>{console.log("zil pay account changing...");const t=Object(u.toBech32Address)(e.base16);a(X({address_base16:e.base16,address_bech32:t}))}),n=e.wallet.observableNetwork().subscribe(e=>j(e));return()=>{t.unsubscribe(),n.unsubscribe()}}}},[]),Object(n.useEffect)(()=>{c!==i.e.DEV&&(t.authenticated||(a(J()),a(ue()),a(_e()),e.history.push("/oops")))},[c,t.authenticated,e.history,a]),Object(n.useEffect)(()=>{console.log("change wallet"),g!==t.address_base16&&a(Y()),w(t.address_base16)},[g,t.address_base16,a]),Object(n.useEffect)(()=>{console.log("change network"),_!==s.blockchain&&(a(Y()),a(Oe()),T.changeNetwork(s.blockchain)),N(s.blockchain)},[_,s.blockchain,a]),Object(n.useEffect)(()=>{window.onbeforeunload=e=>(e.preventDefault(),e.returnValue="The page auto retrieves data periodically. Please do not force refresh as you will lose your wallet connection.",setTimeout(()=>{E.b.dismiss()},8e3),h("warn","Warning","The app auto retrieves data periodically. Please do not force refresh as you will lose your wallet connection."))},[]),Object(n.useEffect)(()=>{t.selected_role===i.m.OPERATOR&&t.role===i.m.DELEGATOR&&h("warn","Warning","You have been redirected to the delegator dashboard.")},[t.selected_role,t.role]),l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark"},l.a.createElement("button",{type:"button",className:"btn navbar-brand shadow-none p-0 pl-2"},l.a.createElement("span",null,l.a.createElement("img",{className:"logo mx-auto",src:xn.a,alt:"zilliqa_logo"}),l.a.createElement("span",{className:"navbar-title"},"ZILLIQA STAKING"))),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"}),l.a.createElement("ul",{className:"navbar-nav navbar-right"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("p",{className:"px-1"},t.address_bech32?l.a.createElement("a",{href:Ja(t.address_bech32,b),className:"wallet-link",target:"_blank",rel:"noopener noreferrer"},t.address_bech32):"No wallet detected")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("p",{className:"px-1"},t.balance?Fa(""+t.balance):"0.000"," ZIL")),l.a.createElement("li",{className:"nav-item"},b===i.i.TESTNET&&l.a.createElement("p",{className:"px-1"},"Testnet"),b===i.i.MAINNET&&l.a.createElement("p",{className:"px-1"},"Mainnet"),b===i.i.ISOLATED_SERVER&&l.a.createElement("p",{className:"px-1"},"Isolated Server")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{type:"button",className:"btn btn-notify-dropdown btn-theme shadow-none mx-2","data-toggle":"modal","data-target":"#swap-deleg-modal","data-keyboard":"false","data-backdrop":"static","data-tip":!0,"data-for":"swap-tip"},l.a.createElement(Un,{width:"16",height:"16"}),l.a.createElement("span",{badge:t.swap_deleg_modal_data.swapRecipientAddress?t.swap_deleg_modal_data.requestorList.length+1:t.swap_deleg_modal_data.requestorList.length})),l.a.createElement(o.a,{id:"swap-tip",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"Change Stake Ownership"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(qn.a,{content:l.a.createElement(Vn,{data:C,networkURL:b}),animation:"shift-away-subtle",trigger:"click",arrow:!1,interactive:!0,placement:"bottom-end",appendTo:"parent",onMount:()=>k(!0),onHide:()=>k(!1)},l.a.createElement("button",{type:"button",className:"btn btn-notify-dropdown shadow-none",onClick:()=>{v&&S(!1)},"aria-haspopup":"true","aria-expanded":O,"data-tip":!0,"data-for":"notification-tip"},l.a.createElement("div",{className:"dropdown-notify-wrapper"},l.a.createElement(Hn,{width:"16",height:"16",className:"dropdown-toggle-icon"}),v&&l.a.createElement(Wn,{width:"10",height:"10",className:"dropdown-notify-icon"})))),l.a.createElement(o.a,{id:"notification-tip",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"Recent Transactions"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{type:"button",className:"btn btn-notify-dropdown btn-theme shadow-none mx-2",onClick:()=>{!0===I.value?I.disable():I.enable()},"data-tip":!0,"data-for":"theme-toggle-tip"},!0===I.value?l.a.createElement(_t,{width:"16",height:"16"}):l.a.createElement(ft,{width:"16",height:"16"})),l.a.createElement(o.a,{id:"theme-toggle-tip",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"Appearance"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{type:"button",className:"btn btn-sign-out mx-2",onClick:()=>{f(),a(J()),a(ue()),a(_e()),e.history.push("/")}},"Sign Out"))))),l.a.createElement(Fn,null),l.a.createElement("div",{id:"dashboard",className:"container-fluid h-100"},l.a.createElement("div",{className:"row h-100"},l.a.createElement("div",{id:"content",className:"col pt-4"},l.a.createElement("div",{className:"container-xl"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("button",{type:"button",className:"btn btn-user-secondary-action shadow-none",onClick:D,"data-tip":!0,"data-for":"refresh-tip",disabled:y||r===i.j.PENDING},l.a.createElement(Zn,{width:"20",height:"20"})),l.a.createElement(o.a,{id:"refresh-tip",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"Refresh"))),t.role===i.m.DELEGATOR&&l.a.createElement(Bn,null),t.role===i.m.OPERATOR&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"p-4 mt-4 dashboard-card"},l.a.createElement("h5",{className:"card-title mb-4"},"Hi ",t.operator_stats.name?t.operator_stats.name:"Operator","! What would you like to do today?"),l.a.createElement("button",{type:"button",className:"btn btn-contract mr-4 shadow-none","data-toggle":"modal","data-target":"#update-comm-rate-modal","data-keyboard":"false","data-backdrop":"static",disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Update Commission"),l.a.createElement("button",{type:"button",className:"btn btn-contract mr-4 shadow-none","data-toggle":"modal","data-target":"#update-recv-addr-modal","data-keyboard":"false","data-backdrop":"static",disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Update Receiving Address"),l.a.createElement("button",{type:"button",className:"btn btn-contract mr-4 shadow-none","data-toggle":"modal","data-target":"#withdraw-comm-modal","data-keyboard":"false","data-backdrop":"static",disabled:"true"===i.d.IS_PAUSED.toString()},"true"===i.d.IS_PAUSED.toString()?i.b.NOT_AVAILABLE:"Withdraw Commission"))),t.role===i.m.DELEGATOR&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"delegator-stats-details",className:"p-4 dashboard-card container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"card-title mb-4"},"Overview")),l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement(Dn,null))))),t.role===i.m.DELEGATOR&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"staking-portfolio-details",className:"p-4 dashboard-card container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"card-title mb-4"},"My Staking Portfolio")),l.a.createElement("div",{className:"col-12 mt-2 px-4 text-center"},l.a.createElement("div",{className:"inner-section"},l.a.createElement("h6",{className:"inner-section-heading px-4 pt-4 pb-3"},"Deposits ",l.a.createElement("span",{"data-tip":!0,"data-for":"deposit-question"},l.a.createElement(hn,{width:"16",height:"16",className:"section-icon"}))),l.a.createElement(Gt,null))),l.a.createElement(o.a,{id:"deposit-question",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"This shows you the list of nodes which you have staked your deposit in."))))),t.role===i.m.OPERATOR&&l.a.createElement("div",{id:"operator-stats-details",className:"p-4 dashboard-card container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"card-title mb-4"},"My Node Performance")),l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement(jn,null)))),l.a.createElement("div",{id:"dashboard-ssn-details",className:"p-4 dashboard-card container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"card-title mb-4"},"Staked Seed Nodes"),l.a.createElement("p",{className:"info mt-4"},"Please refer to our\xa0",l.a.createElement("a",{className:"info-link",href:s.staking_viewer?s.staking_viewer:"https://zilliqa.com/",target:"_blank",rel:"noopener noreferrer"},"Staking Viewer"),"\xa0for more information on the nodes' statuses.")),l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement(it,{showStakeBtn:!0})))),l.a.createElement("div",null,l.a.createElement(E.a,{hideProgressBar:!0,autoClose:1e4,pauseOnHover:!0}))))))),l.a.createElement(dt,null),l.a.createElement(d,null),l.a.createElement(Yt,{updateData:D,updateRecentTransactions:x}),l.a.createElement(zt,{updateData:D,updateRecentTransactions:x}),l.a.createElement(qt,{updateData:D,updateRecentTransactions:x}),l.a.createElement($t,{updateData:D,updateRecentTransactions:x}),l.a.createElement(nn,{updateData:D,updateRecentTransactions:x}),l.a.createElement(sn,{updateData:D,updateRecentTransactions:x}),l.a.createElement(dn,{updateData:D,updateRecentTransactions:x}),l.a.createElement(un,{updateData:D,updateRecentTransactions:x}),l.a.createElement(Pn,{updateData:D,updateRecentTransactions:x})))};var Kn=function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 551.5 105.2",width:e.width,height:e.height,className:e.className},l.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},l.a.createElement("g",{id:"Server"},l.a.createElement("path",{className:"cls-1",d:"M44,18.7H12.6A1.6,1.6,0,0,0,11,20.3a1.6,1.6,0,0,0,1.6,1.5H44a1.6,1.6,0,0,0,1.6-1.5A1.6,1.6,0,0,0,44,18.7Z"}),l.a.createElement("circle",{className:"cls-1",cx:"83.4",cy:"20.3",r:"4.7"}),l.a.createElement("path",{className:"cls-1",d:"M94.4,4.6H6.3A6.3,6.3,0,0,0,0,10.8V29.7A6.3,6.3,0,0,0,6.3,36H94.4a6.3,6.3,0,0,0,6.3-6.3V10.8A6.3,6.3,0,0,0,94.4,4.6Zm3.1,25.1a3.1,3.1,0,0,1-3.1,3.2H6.3a3.2,3.2,0,0,1-3.2-3.2V10.8A3.2,3.2,0,0,1,6.3,7.7H94.4a3.1,3.1,0,0,1,3.1,3.1Z"}),l.a.createElement("path",{className:"cls-1",d:"M44,53.3H12.6A1.6,1.6,0,0,0,11,54.9a1.6,1.6,0,0,0,1.6,1.5H44a1.6,1.6,0,0,0,1.6-1.5A1.6,1.6,0,0,0,44,53.3Z"}),l.a.createElement("circle",{className:"cls-1",cx:"83.4",cy:"54.9",r:"4.7"}),l.a.createElement("path",{className:"cls-1",d:"M94.4,39.2H6.3A6.3,6.3,0,0,0,0,45.4V64.3a6.3,6.3,0,0,0,6.3,6.3H94.4a6.3,6.3,0,0,0,6.3-6.3V45.4A6.3,6.3,0,0,0,94.4,39.2Zm3.1,25.1a3.1,3.1,0,0,1-3.1,3.2H6.3a3.2,3.2,0,0,1-3.2-3.2V45.4a3.2,3.2,0,0,1,3.2-3.1H94.4a3.1,3.1,0,0,1,3.1,3.1Z"}),l.a.createElement("path",{className:"cls-1",d:"M44,87.9H12.6A1.6,1.6,0,0,0,11,89.5,1.6,1.6,0,0,0,12.6,91H44a1.6,1.6,0,0,0,1.6-1.5A1.6,1.6,0,0,0,44,87.9Z"}),l.a.createElement("circle",{className:"cls-1",cx:"83.4",cy:"89.5",r:"4.7"}),l.a.createElement("path",{className:"cls-1",d:"M94.4,73.8H6.3A6.3,6.3,0,0,0,0,80.1V98.9a6.3,6.3,0,0,0,6.3,6.3H94.4a6.3,6.3,0,0,0,6.3-6.3V80.1A6.3,6.3,0,0,0,94.4,73.8Zm3.1,25.1a3.1,3.1,0,0,1-3.1,3.2H6.3a3.2,3.2,0,0,1-3.2-3.2V80.1a3.2,3.2,0,0,1,3.2-3.2H94.4a3.1,3.1,0,0,1,3.1,3.2Z"})),l.a.createElement("line",{className:"cls-1",x1:"99.5",y1:"57.2",x2:"451.5",y2:"57.2"}),l.a.createElement("line",{className:"cls-2",x1:"99.5",y1:"57.2",x2:"104.5",y2:"57.2"}),l.a.createElement("line",{className:"cls-3",x1:"114.2",y1:"57.2",x2:"441.6",y2:"57.2"}),l.a.createElement("line",{className:"cls-2",x1:"446.5",y1:"57.2",x2:"451.5",y2:"57.2"}),l.a.createElement("path",{className:"cls-1",d:"M545.8,49.2V29.3a8.3,8.3,0,0,0-8.3-8.3h-2.8l.6-2.2a6.6,6.6,0,0,0-4.5-8.2L511.9,5.2a1.6,1.6,0,0,0-2.1,1.1A1.8,1.8,0,0,0,511,8.4l11.8,3.4a10.3,10.3,0,0,0,0,9.2H488V7.9a1.7,1.7,0,0,0-1.6-1.7,1.8,1.8,0,0,0-1.7,1.7V21h-5.6V7.9a1.7,1.7,0,0,0-1.7-1.7,1.7,1.7,0,0,0-1.6,1.7V21h-7.3V6.7a3.4,3.4,0,0,1,3.3-3.4h28.1a3.4,3.4,0,0,1,3.3,3.4v9.1a1.8,1.8,0,0,0,1.7,1.7,1.7,1.7,0,0,0,1.6-1.7V6.7A6.6,6.6,0,0,0,499.9,0H471.8a6.7,6.7,0,0,0-6.6,6.7V21H460a8.3,8.3,0,0,0-8.3,8.3v62a8.3,8.3,0,0,0,8.3,8.3h77.5a8.3,8.3,0,0,0,8.3-8.3V79.1a1.6,1.6,0,0,0-1.6-1.6,1.7,1.7,0,0,0-1.7,1.6V91.3a5,5,0,0,1-5,5H460a5,5,0,0,1-5-5v-62a5,5,0,0,1,5-5h77.5a5,5,0,0,1,5,5V49.1H528.8a6.7,6.7,0,0,0-6.7,6.6v9.2a6.7,6.7,0,0,0,6.7,6.6h16a6.6,6.6,0,0,0,6.7-6.6V55.7A6.7,6.7,0,0,0,545.8,49.2ZM526.1,12.7l3.8,1.1a3.3,3.3,0,0,1,2.2,4.1l-.9,3.1h-4.4A6.9,6.9,0,0,1,526.1,12.7Zm22,52.2a3.3,3.3,0,0,1-3.3,3.3h-16a3.3,3.3,0,0,1-3.3-3.3V55.7a3.3,3.3,0,0,1,3.3-3.3h16a3.3,3.3,0,0,1,3.3,3.3ZM535,60.3a1.7,1.7,0,0,1-1.6,1.7h-2.5a1.7,1.7,0,1,1,0-3.4h2.5A1.7,1.7,0,0,1,535,60.3Z"}),l.a.createElement("path",{className:"cls-4",d:"M302.3,20.5a18.2,18.2,0,0,0-25.7,0L269.1,28a18.7,18.7,0,0,0-5.3,11A18.5,18.5,0,0,0,266,49.6l-3.1,3a18.3,18.3,0,0,0-10.5-2.1,18.1,18.1,0,0,0-11,5.2l-7.5,7.5a18.2,18.2,0,0,0,0,25.7,17.8,17.8,0,0,0,12.8,5.3,18.2,18.2,0,0,0,6.5-1.2,1.4,1.4,0,0,0,.9-1.9,1.6,1.6,0,0,0-2-.9,15.1,15.1,0,0,1-16-24.8l7.5-7.5a15.3,15.3,0,0,1,17.1-3l-2.8,2.8a11.3,11.3,0,0,0-11.8,2.7l-7.5,7.5a11.5,11.5,0,0,0-3.4,8.2,11.3,11.3,0,0,0,3.4,8.1,11.1,11.1,0,0,0,8.1,3.4,11.5,11.5,0,0,0,8.2-3.4l7.5-7.5a11.5,11.5,0,0,0,2.7-11.8l2.8-2.7a15.2,15.2,0,0,1-3,17l-2.6,2.6a1.6,1.6,0,0,0,0,2.2,1.5,1.5,0,0,0,2.2,0l2.6-2.6a18.2,18.2,0,0,0,3.1-21.5l3-3.1a17.9,17.9,0,0,0,8.7,2.2h1.9a17.5,17.5,0,0,0,10.9-5.2l7.6-7.5a18.4,18.4,0,0,0,0-25.7ZM275.9,34.9l7.6-7.5a8.4,8.4,0,0,1,14.3,6,8.2,8.2,0,0,1-2.4,5.9l-7.5,7.5a8.2,8.2,0,0,1-7.1,2.4h0a5.1,5.1,0,0,0,0-7.2,4.8,4.8,0,0,0-3.6-1.5,4.9,4.9,0,0,0-3.6,1.5h0a8.3,8.3,0,0,1,2.3-7.1Zm-.1,9.3a2,2,0,0,1,1.4-.6,1.8,1.8,0,0,1,1.4.6,1.9,1.9,0,0,1,0,2.8l-6.7,6.8h0l-1.7,1.7-1.9-3.8ZM260.4,65.3a2.1,2.1,0,0,1-2.9,0,2,2,0,0,1-.6-1.4,2,2,0,0,1,.6-1.5L266,54l1.9,3.8Zm-.2,9.2L252.7,82a8.4,8.4,0,0,1-6,2.5,8.2,8.2,0,0,1-5.9-2.5,8.3,8.3,0,0,1,0-11.9l7.5-7.5a8.4,8.4,0,0,1,7.1-2.4h-.1a5.2,5.2,0,0,0,0,7.3A5.1,5.1,0,0,0,259,69a5.1,5.1,0,0,0,3.6-1.5h0a8.4,8.4,0,0,1-2.4,7ZM300.1,44l-7.5,7.5a15.1,15.1,0,0,1-17.1,3l2.7-2.7a11.9,11.9,0,0,0,3.7.6A11.4,11.4,0,0,0,290,49l7.6-7.5a11.7,11.7,0,0,0,0-16.3,11.8,11.8,0,0,0-8.2-3.3,11.6,11.6,0,0,0-8.1,3.3l-7.5,7.5A11.5,11.5,0,0,0,271,44.6l-2.7,2.7a15.1,15.1,0,0,1,2.9-17.1l7.6-7.5A15.1,15.1,0,1,1,300.1,44Z"}),l.a.createElement("path",{className:"cls-4",d:"M293.5,73.8a1.5,1.5,0,0,0-1.2-1,1.5,1.5,0,0,0-1.4.4l-2.6,2.6-2-5.5a1.5,1.5,0,0,0-1.9-1,1.6,1.6,0,0,0-1,2l2.8,7.9a1.8,1.8,0,0,0,1.1,1,1.6,1.6,0,0,0,1.4-.5l2.7-2.6,1.9,5.6a1.5,1.5,0,0,0,1.4,1h.6a1.6,1.6,0,0,0,.9-2Z"}),l.a.createElement("path",{className:"cls-4",d:"M296,61.6h-6.2a1.5,1.5,0,0,0,0,3H296a1.5,1.5,0,1,0,0-3Z"}),l.a.createElement("path",{className:"cls-4",d:"M276.4,74.9a1.6,1.6,0,0,0-1.5,1.6v6.2a1.5,1.5,0,0,0,1.5,1.5,1.6,1.6,0,0,0,1.6-1.5V76.5A1.6,1.6,0,0,0,276.4,74.9Z"}),l.a.createElement("path",{className:"cls-4",d:"M240.2,29.5l5.5,2-2.6,2.6a1.3,1.3,0,0,0-.4,1.4,1.4,1.4,0,0,0,1,1.1l7.8,2.8h.5a1.6,1.6,0,0,0,1.5-1.1,1.5,1.5,0,0,0-1-1.9l-5.5-2,2.6-2.6a1.5,1.5,0,0,0,.4-1.4,1.4,1.4,0,0,0-1-1.1l-7.8-2.8a1.6,1.6,0,0,0-2,1,1.5,1.5,0,0,0,1,1.9Z"}),l.a.createElement("path",{className:"cls-4",d:"M259.7,34.5a1.5,1.5,0,0,0,1.6-1.5V26.8a1.6,1.6,0,0,0-1.6-1.5,1.5,1.5,0,0,0-1.5,1.5V33A1.5,1.5,0,0,0,259.7,34.5Z"}),l.a.createElement("path",{className:"cls-4",d:"M240.2,47.9h6.1a1.6,1.6,0,0,0,1.6-1.5,1.6,1.6,0,0,0-1.6-1.6h-6.1a1.6,1.6,0,0,0-1.6,1.6A1.6,1.6,0,0,0,240.2,47.9Z"}),l.a.createElement("path",{className:"cls-4",d:"M258.5,86.3a1.5,1.5,0,0,0-1.1.4,1.6,1.6,0,0,0,1.1,2.7,1.2,1.2,0,0,0,1-.5,1.5,1.5,0,0,0,0-2.2A1.2,1.2,0,0,0,258.5,86.3Z"}))))};var Yn=function(e){return Ot(!0),l.a.createElement("div",{className:"cover"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row align-items-center"},l.a.createElement("div",{className:"cover-content col-12"},l.a.createElement("div",{id:"unauthenticated-section",className:"text-center mx-auto"},l.a.createElement(Kn,{className:"home-icon",width:"400px"}),l.a.createElement("h3",null,"Error"),l.a.createElement("p",null,"Sorry, something seems to be broken.",l.a.createElement("br",null),"Please re-connect to your wallet again."),l.a.createElement("button",{type:"button",className:"btn btn-user-action mx-2",onClick:()=>{e.history.replace("/")}},"Log In"))),l.a.createElement("footer",{id:"disclaimer",className:"align-items-start"},l.a.createElement("div",{className:"p-2"},l.a.createElement("span",{className:"ml-4 mx-3"},"\xa9 2023 Zilliqa"),l.a.createElement("button",{type:"button",className:"btn","data-toggle":"modal","data-target":"#disclaimer-modal","data-keyboard":"false","data-backdrop":"static"},"Disclaimer"))),l.a.createElement(d,null))))};function Qn({columns:e,data:a}){const{getTableProps:t,getTableBodyProps:n,headerGroups:r,rows:s,prepareRow:c}=Object(m.useTable)({columns:e,data:a,initialState:{pageIndex:0,sortBy:[{id:"delegAmt",desc:!0}]}},m.useSortBy);return l.a.createElement("table",Object.assign({className:"table table-responsive-lg"},t()),l.a.createElement("thead",null,r.map(e=>l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>l.a.createElement("th",Object.assign({scope:"col"},e.getHeaderProps()),e.render("Header")))))),l.a.createElement("tbody",n(),s.map((e,a)=>(c(e),l.a.createElement("tr",e.getRowProps(),e.cells.map(e=>l.a.createElement("td",e.getCellProps(),e.render("Cell"))))))))}var Jn=function(e){const a=e.data,t=st(e=>e.blockchain.blockchain),r=Object(n.useMemo)(()=>[{Header:"name",accessor:"ssnName"},{Header:"address",accessor:"ssnAddress",Cell:({row:e})=>l.a.createElement("a",{href:Ja(e.original.ssnAddress,t),target:"_blank",rel:"noopener noreferrer"},e.original.ssnAddress)},{Header:"deposit (ZIL)",accessor:"delegAmt",Cell:({row:e})=>l.a.createElement("span",null,Fa(e.original.delegAmt))},{Header:"rewards (ZIL)",accessor:"rewards",Cell:({row:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{"data-for":"rewards-tip","data-tip":za(e.original.rewards)},Fa(e.original.rewards)),l.a.createElement(o.a,{id:"rewards-tip",place:"bottom",type:"dark",effect:"solid"}))}],[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Gn,{class:"spinner-border dashboard-spinner mb-4",area:i.k.PROMISE_GET_EXPLORER_STATS}),0===a.length&&l.a.createElement("div",{className:"d-block text-left"},l.a.createElement("em",null,"No information found.")),a.length>0&&l.a.createElement(Qn,{columns:r,data:a}))};function Xn({columns:e,data:a,tableId:t}){const{getTableProps:n,getTableBodyProps:r,headerGroups:s,rows:c,prepareRow:o}=Object(m.useTable)({columns:e,data:a,initialState:{sortBy:[{id:"blkNumCountdown",desc:!1}]}},m.useSortBy);return l.a.createElement("table",Object.assign({id:t,className:"table table-responsive-lg"},n()),l.a.createElement("thead",null,s.map(e=>l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>l.a.createElement("th",Object.assign({scope:"col"},e.getHeaderProps()),e.render("Header")))))),l.a.createElement("tbody",r(),c.map((e,a)=>(o(e),l.a.createElement("tr",e.getRowProps(),e.cells.map(e=>l.a.createElement("td",e.getCellProps(),e.render("Cell"))))))))}var $n=function(e){const a=e.data,t=e.totalWithdrawAmt,r=Object(n.useMemo)(()=>[{Header:"pending blocks till claim",accessor:"blkNumCountdown"},{Header:"progress",accessor:"progress",Cell:({row:e})=>l.a.createElement("span",null,e.original.progress,"%")},{Header:"amount (ZIL)",accessor:"amount",Cell:({row:e})=>l.a.createElement("span",null,Fa(e.original.amount))}],[]);return l.a.createElement("div",{id:"delegator-complete-withdraw-details",className:"container px-1 py-3 mb-4"},l.a.createElement("div",{id:"complete-withdraw-explorer-accordion"},l.a.createElement("div",{className:"card text-center"},l.a.createElement("h6",{className:"text-left px-4 pt-4"},"Pending Stake Withdrawals\xa0",l.a.createElement("span",{"data-tip":!0,"data-for":"withdraw-question"},l.a.createElement(hn,{width:"16",height:"16",className:"section-icon"}))),l.a.createElement("div",{className:"text-center"},l.a.createElement(Gn,{class:"spinner-border dashboard-spinner mb-4",area:i.k.PROMISE_GET_EXPLORER_PENDING_WITHDRAWAL})),l.a.createElement("div",{className:"card-header d-flex justify-content-between",id:"complete-withdraw-accordion-header"},l.a.createElement("div",null,l.a.createElement("span",null,"You can now withdraw ",l.a.createElement("strong",null,Fa(t))," ZIL"))),l.a.createElement("div",{id:"complete-withdraw-details",className:a.length>0?"collapse show":"collapse","aria-labelledby":"complete-withdraw-accordion-header","data-parent":"#complete-withdraw-explorer-accordion"},l.a.createElement("div",{className:"card-body"},0===a.length&&l.a.createElement("em",null,"You have no ZILs ready for withdrawal yet."),l.a.createElement(Xn,{columns:r,data:a}))))),l.a.createElement(o.a,{id:"withdraw-question",place:"bottom",type:"dark",effect:"solid"},l.a.createElement("span",null,"When you initiate a stake withdrawal, the amount is not withdrawn immediately."),l.a.createElement("br",null),l.a.createElement("span",null,"The amount is processed at a certain block number and only available to withdraw",l.a.createElement("br",null),"once the required block number is reached.")))};var el=function(e){const a=e.match.params.address,[t,r]=Object(n.useState)(""),[s,c]=Object(n.useState)(""),[o,m]=Object(n.useState)(M),[E,p]=Object(n.useState)([]),[h,b]=Object(n.useState)([]),[w,_]=Object(n.useState)("0"),f=st(e=>e.blockchain.impl),N=P(),y=N===i.e.PROD?i.h.MAINNET:i.h.TESTNET,A=Object(n.useRef)(!0),v=Ot(!0),S=Object(n.useCallback)(()=>{let e="";if(g.validation.isBech32(a))try{e=Object(u.fromBech32Address)(a).toLowerCase()}catch(t){console.error("No such address: %o",a),e=""}else e=g.validation.isAddress(a)?a.toLowerCase():"";return e},[a]);Object(n.useEffect)(()=>{let e=new qe.BigNumber(0),a=new qe.BigNumber(0),t=S(),n=[];A.current&&r(t),Object(Pt.trackPromise)(xa.getSmartContractSubState(f,"deposit_amt_deleg",[t]).then(async l=>{if(void 0===l||null===l||l===i.j.ERROR)return null;const r=l.deposit_amt_deleg[t],s=await xa.getSmartContractSubState(f,"ssnlist");for(const c in r){if(!r.hasOwnProperty(c))continue;const l=new qe.BigNumber(r[c]);e=e.plus(l);const o=new qe.BigNumber(await ma(f,c,t)).toString();a=a.plus(o);const i={ssnName:s.ssnlist[c].arguments[3],ssnAddress:Object(u.toBech32Address)(c),delegAmt:""+l,rewards:""+o};n.push(i)}}).catch(e=>(console.error(e),null)).finally(()=>{if(A.current){const t={...M,zilRewards:""+a,gzilRewards:""+a,totalDeposits:""+e};m(t),p([...n])}}),i.k.PROMISE_GET_EXPLORER_STATS)},[f,a,S]),Object(n.useEffect)(()=>{let e=S(),a=[],t=new qe.BigNumber(0),n="0";Object(Pt.trackPromise)(xa.getSmartContractSubState(f,"withdrawal_pending",[e]).then(async l=>{if(void 0===l||null===l||l===i.j.ERROR)return null;const r=l.withdrawal_pending[e],s=(await xa.getSmartContractSubState(f,"bnum_req")).bnum_req,c=await xa.getNumTxBlocks(),o=!0===nt(c)?new qe.BigNumber(c).minus(1):new qe.BigNumber(0);for(const e in r){if(!r.hasOwnProperty(e))continue;let l=new qe.BigNumber(r[e]),c=new qe.BigNumber(e).plus(s),i=c.minus(o),d=new qe.BigNumber(0);if(i.isLessThanOrEqualTo(0))t=t.plus(l),i=new qe.BigNumber(0),d=new qe.BigNumber(1);else{const e=i.dividedBy(s);d=new qe.BigNumber(1).minus(e)}n=d.times(100).toFixed(2),a.push({amount:""+l,blkNumCountdown:""+i,blkNumCheck:""+c,progress:""+n})}}).catch(e=>(console.error(e),null)).finally(()=>{A.current&&(b([...a]),_(""+t))}),i.k.PROMISE_GET_EXPLORER_PENDING_WITHDRAWAL)},[f,S]);const T=()=>{const a="/address/"+s;e.history.push(a)};return l.a.createElement("div",{className:"cover explorer"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row align-items-center"},l.a.createElement("div",{className:"cover-content col-12 text-center"},l.a.createElement(Ct,null),l.a.createElement("div",{id:"explorer-mini-navbar",className:"true"===i.d.IS_PAUSED.toString()?"explorer-mini-navbar-disabled d-flex align-items-end mr-4":"explorer-mini-navbar-enabled d-flex align-items-end mr-4"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-theme shadow-none mr-3",onClick:()=>{!0===v.value?v.disable():v.enable()}},!0===v.value?l.a.createElement(_t,{width:"20",height:"20"}):l.a.createElement(ft,{width:"20",height:"20"}))),(N===i.e.STAGE||N===i.e.PROD)&&l.a.createElement("span",{className:"mr-2"},y)),l.a.createElement("div",{className:"heading"},l.a.createElement(l.a.Fragment,null,!0===v.value?l.a.createElement("img",{src:yt.a,alt:"zillion",width:"480px",className:"mt-2 mb-4 zillion-logo"}):l.a.createElement("img",{src:vt.a,alt:"zillion",width:"480px",className:"mt-2 mb-4 zillion-logo"})),l.a.createElement("p",{className:"tagline"},"Staking with Zilliqa. Simplified!")),l.a.createElement("div",{className:"wallet-access"},l.a.createElement("h2",{className:"mb-0"},"Zillion Explorer"),l.a.createElement("div",{className:"d-flex justify-content-center h-100"},l.a.createElement("div",{className:"explorer-search mb-4"},l.a.createElement("input",{type:"text",className:"explorer-search-input",value:s,onKeyDown:e=>{13===e.keyCode&&T()},onChange:e=>{c(e.target.value)},placeholder:"Enter wallet address to check rewards",maxLength:42}),l.a.createElement("button",{type:"button",className:"btn explorer-search-icon shadow-none",onClick:()=>T()},l.a.createElement(kt,{width:"18",height:"18"})))),l.a.createElement("h6",{className:"explorer-wallet mt-4"},t&&a)),!t&&l.a.createElement("p",{className:"mb-4"},"No such address."),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(It,null),l.a.createElement("div",{id:"delegator-stats-details",className:"p-4 dashboard-card container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col text-left"},l.a.createElement("h5",{className:"card-title mb-4"},"Overview")),l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement(Gn,{class:"spinner-border dashboard-spinner mb-4",area:i.k.PROMISE_GET_EXPLORER_STATS}),l.a.createElement("div",{className:"row px-2 pb-3 align-items-center justify-content-center"},l.a.createElement("div",{className:"d-block deleg-stats-card"},l.a.createElement("h3",null,"Total Deposits"),l.a.createElement("span",null,Fa(o.totalDeposits))),l.a.createElement("div",{className:"d-block deleg-stats-card"},l.a.createElement("h3",null,"Unclaimed ZIL Rewards"),l.a.createElement("span",null,Fa(o.zilRewards))),l.a.createElement("div",{className:"d-block deleg-stats-card"})))))),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"staking-portfolio-details",className:"p-4 dashboard-card mb-4 container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h5",{className:"card-title mb-4 text-left"},"Nodes Staked")),l.a.createElement("div",{className:"col-12"},l.a.createElement(Jn,{data:E})))),l.a.createElement($n,{data:h,totalWithdrawAmt:w})),l.a.createElement("button",{type:"button",className:"btn btn-user-action-cancel mt-2 mx-2",onClick:()=>{e.history.push("/")}},"Back to Main")),l.a.createElement(dt,null),l.a.createElement(d,null))))};var al=function(){return l.a.createElement(c.d,null,l.a.createElement(c.b,{exact:!0,path:"/",render:e=>l.a.createElement(xt,e)}),l.a.createElement(c.b,{exact:!0,path:"/address/:address",render:e=>l.a.createElement(el,e)}),l.a.createElement(c.b,{exact:!0,path:"/dashboard",render:e=>l.a.createElement(zn,e)}),l.a.createElement(c.b,{exact:!0,path:"/oops",render:e=>l.a.createElement(Yn,e)}),l.a.createElement(c.b,null,l.a.createElement(c.a,{to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(342),t(344),t(345),t(346);var tl=t(81);const nl=j();La.dispatch(ge({proxy:nl.proxy,impl:nl.impl,blockchain:nl.blockchain,staking_viewer:nl.node_status,api_list:nl.api_list})),La.dispatch(we({refresh_rate:x()})),La.dispatch(he({api_max_attempt:D()})),La.dispatch(be({blockchain_explorer:I()})),La.dispatch(fe()),s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(tl.a,null,l.a.createElement(lt.a,{store:La},l.a.createElement(al,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},57:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return h}));var n=t(182),l=t(58),r=t(86),s=t(1);const{BN:c,Long:o}=t(17),{encodeTransactionProto:i}=t(9),d=1,m=2,u=2,E=4,p="zil".length+1+32+6;class h{static async getTransport(){const e=await l.a.isSupported().catch(()=>!1),a=await r.a.isSupported().catch(()=>!1);if(e){console.log("ledger webhid supported");const e=await l.a.list();if(e.length>0&&e[0].opened&&e[0].vendorId===s.c.LEDGER_VENDOR_ID)return new l.a(e[0]);const a=await l.a.openConnected().catch(()=>null);return null!==a&&void 0!==a?a:l.a.request()}if(a){console.log("ledger webusb supported");const e=await r.a.openConnected().catch(()=>null);return null===e?r.a.create():e}return console.log("ledger u2f fallback"),n.a.create()}constructor(e,a="w0w"){this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getVersion","getPublicKey","getPublicAddress","signTxn"],a)}getVersion(){return this.transport.send(224,d,0,0).then(e=>{let a="v";for(let t=0;t<3;++t)a+=parseInt("0x"+e[t]),2!==t&&(a+=".");return{version:a}})}getPublicKey(a){let t=e.alloc(4);return t.writeInt32LE(a,0),this.transport.send(224,m,0,0,t).then(e=>({publicKey:e.toString("hex").slice(0,66)}))}getPublicAddress(a){let t=e.alloc(4);return t.writeInt32LE(a,0),this.transport.send(224,u,0,1,t).then(e=>({pubAddr:e.slice(33,33+p).toString("utf-8"),pubKey:e.toString("hex").slice(0,66)}))}signTxn(a,t){let n=e.alloc(4);n.writeInt32LE(a,0),t.amount instanceof c||(t.amount=new c(t.amount)),t.gasPrice instanceof c||(t.gasPrice=new c(t.gasPrice)),t.gasLimit instanceof c||(t.gasLimit=o.fromNumber(t.gasLimit));var l=i(t);var r;l.length>128?(r=l.slice(0,128),l=l.slice(128,void 0)):(r=l,l=e.alloc(0));var s=e.alloc(4);s.writeInt32LE(r.length,0);var d=e.alloc(4);d.writeInt32LE(l.length,0);const m=e.concat([n,d,s,r]);let u=this.transport;return u.send(224,E,0,0,m).then((function a(t){if(l.length>0){var n;l.length>128?(n=l.slice(0,128),l=l.slice(128,void 0)):(n=l,l=e.alloc(0));var r=e.alloc(4);r.writeInt32LE(n.length,0),d.writeInt32LE(l.length,0);const t=e.concat([d,r,n]);return u.send(224,E,0,0,t).then(a)}return t})).then(e=>e.toString("hex").slice(0,128))}}}).call(this,t(14).Buffer)},84:function(e,a,t){e.exports=t.p+"static/media/zillion.a66116bf.svg"},85:function(e,a,t){e.exports=t.p+"static/media/zillion.a0d14c67.svg"}},[[194,1,2]]]);
//# sourceMappingURL=main.4828bd5b.chunk.js.map